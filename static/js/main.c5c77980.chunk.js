(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(31).concat([function(e,t,a){e.exports=a.p+"static/media/iconBinance.39a2af26.png"},,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,a){e.exports=a.p+"static/media/Profile_icon.32dd20d8.svg"},function(e,t,a){e.exports=a.p+"static/media/Billing_icon.0397b8fd.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAEBgAABAYBmSDe8AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACiSURBVGiB7dZBCsJAFIPhjMfT+y8VUXuOuBBFsDIdCp10+L99HmT1IgFoYvtk++K6s+1jQvZfkduCY2/XhKwklZkirrb9PlDK50avrCQdWsLJKJKGImkokmauyNSQv4dkf/k1FaYF3/Xh+ZmxeRbYkpnxzPjVWWnwh7hLFElDkTRDF2HG98oCWzIznhm/OisN/hB3iSJpKJJm6CLM+F5ZAHVPG1gfwfjYunAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAVCAYAAACg/AXsAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAXXaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wNy0xNVQxNDoxNjozNiswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNy0xNVQxNDoxNjozNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDctMTVUMTQ6MTY6MzYrMDM6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NmY4YjRjNGQtYWE4MS00YTg0LWJjZjUtY2E5N2I2ZmNmNDcwIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MWE2Yjc5MGYtNjVkMC05ZjQ3LThiYzctZDdjYmRhZGNkNWQxIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2U0MWE5MWUtYTkyMi00MTEyLTkxNzEtMTdjNDE0OGViMDI0IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6M2U0MWE5MWUtYTkyMi00MTEyLTkxNzEtMTdjNDE0OGViMDI0IiBzdEV2dDp3aGVuPSIyMDE5LTA3LTE1VDE0OjE2OjM2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NmY4YjRjNGQtYWE4MS00YTg0LWJjZjUtY2E5N2I2ZmNmNDcwIiBzdEV2dDp3aGVuPSIyMDE5LTA3LTE1VDE0OjE2OjM2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6e1RpJAAABoklEQVQ4ja3UzWpUQRCG4afyZ0QMukjQQVFcSAQFFyriwp1IiHgRXqTxAiSLEOOARFAkSMgPBIwYcBgnieWiOzomh8kI9qa7q6vfU33qqwoNIzOv4QlGGo7bEbHUb4h/BDSCxgYA3qKDTVytLod4iLuZ2YuI9l+RHAO0cQNT2K2gOzjAG9yvfksR0Y5TAAc12h18wS3sV9CD6r84mplX8LQBsI0PGMcMEht1PYNltNCJzHxRv9YP2EIP17GK6XpxG98wW5/5MiI6Y33hXuwDdCvwO97V/Twu14he41NE9PiTxkNM1PVmBXSxEBF71XkB60p63x8BOJbiOsbrvBgRu0fGiOjiVYP/QEEdDDgbGtIU5dCQ/To/yswLR8bMnMzMuSqJRsho3+VL+IxJzGfmVGZOYE6R/73MnK2235BDRQO72KuOI0omzuEZbipa2cFXPMbzzDwLMUDy68p/aVX4Ks7jtiLEFUX6H0+rnbX6rBZ+4IyTtbM0TBWv1QimlbQvK1U8qr+KB4A6SrvYUiT/U+knY1iOiBX+U2c7ARkCdKLH/gKBYa8PAWZk6AAAAABJRU5ErkJggg=="},,,function(e,t,a){e.exports=a(124)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),s=a(17),c=a(28),l=a(26),i=a(47),d=a(18),u=a(8),m=a(14),p=a(1),y={initialState:{keys:-1,myProducts:-1,connectedProducts:-1,incomeKeys:-1,balancesKeys:-1,dashboard:{baseAsset:"USD"}},settingsShow:{courDayIntervalProfit:7,courDayIntervalSmallProduct:3e3}},f={initialState:{loginRes:{accessToken:!1,refreshToken:!1}}},v={urlsApi:{baseCindx:"https://api-live.cindx.io"},initialState:{loginRes:{accessToken:!1,refreshToken:!1},userInfo:-1},TYPES_RESULT:{ERROR:-2,LOADING:-1,SUCESS:1},privatePages:["profile"],settings:{ratingMax:10,ragingScale:100}},g={profile:y,common:v,auth:f,myproduct:{initialState:{myFollowers:-1,infoMarketProduct:-1,balancesFollowings:-1,ordersFollowings:-1}},marketplace:{initialState:{marketProducts:-1}},marketproduct:{initialState:{infoMarketProduct:-1,keys:-1}}},h=a(48),E=a.n(h),b={dataNoLoaded:function(e){var t=e,a=t.some(function(e){return e===g.common.TYPES_RESULT.LOADING});return t.some(function(e){return e===g.common.TYPES_RESULT.ERROR})?[g.common.TYPES_RESULT.ERROR,r.a.createElement("div",null,"ERROR REQUEST")]:a?[g.common.TYPES_RESULT.LOADING,r.a.createElement("div",null,"Loading...")]:[g.common.TYPES_RESULT.SUCESS,!1]}},N=a(49),k=a.n(N),O=a(50),I=a.n(O),w=a(51),S=a.n(w),F={profile:E.a,common:b,myproduct:k.a,marketplace:I.a,marketproduct:S.a},j=function(e,t){var a=e.length>t?e.length-t:0,n=e[a];return e.slice(a,e.length).map(function(e){return Object(p.a)({},e,{value:e.value-n.value})})},T=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PERCENT",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"INCOME",r="object"===typeof e&&e||{baseBalance:[],baseIncome:[]},o=r.baseBalance,s=r.baseIncome;if("object"!==typeof o||!o.length)return[];var c=o.length>t?o.length-t:0,l=o.slice(c,o.length).filter(function(e){return e.value>0}),i=l.map(function(e){return Object(p.a)({},e,{value:e.value/l[0].value})}),d=s.length>t?s.length-t:0,u=s.slice(d,s.length).filter(function(e,t,a){return 1!==(a[t+1]||{value:0}).value||1!==e.value}),m=u.map(function(e){return Object(p.a)({},e,{value:e.value-u[0].value})}).map(function(e,t){return Object(p.a)({},e,{value:e.value*(l[t-1]||{value:0}).value})});return{INCOME:{PERCENT:u.map(function(e){return Object(p.a)({},e,{value:100*e.value-100})}),ABSOLUTE:m},BALANCE:{PERCENT:i,ABSOLUTE:l}}[n][a]},x={getIncomeForKeys:T,getSelectedIncomes:function(e,t,a,n,r,o,s){return{incomes:("ALL"===a?e:[e.find(function(e){return e.keyId===a})]).map(function(e){var a=t.find(function(t){return t.keyId===e.keyId&&t.baseAsset===r}),c=a&&T(a.income,n,o,s);return Object(p.a)({},e,{income:c,baseAsset:a&&a.baseAsset})})}},getNextKeyIdForGetIncomes:function(e,t,a){var n="object"===typeof t&&t,r=("object"===typeof e&&e||[]).filter(function(e){return!(n||[]).find(function(t){return e.keyId===t.keyId&&t.baseAsset===a})});return r.length?{nextKeyId:r[0].keyId,isLast:1===r.length}:{nextKeyId:!1}},getNextKeyIdForGetBalances:function(e,t){var a="object"===typeof t&&t,n=("object"===typeof e&&e||[]).filter(function(e){return!(a||[]).find(function(t){return e.keyId===t.keyId})});return n.length?{nextKeyId:n[0].keyId,isLast:1===n.length}:{nextKeyId:!1}},getBalanceHistory:function(e,t,a){var n=e&&e.value||{available:0,hold:0},r=function(e){return parseFloat(e).toFixed({USD:2,BTC:5}[t])};return{available:r(n.available),hold:r(n.hold)}},getValueHistory:function(e,t,a){return parseFloat((e||{value:0}).value).toFixed({USD:2,BTC:5}[t])},getDataForSmallKeys:function(e){if(F.common.dataNoLoaded([e.keys])[1])return{stateKeys:e.keys};var t=e.dashboard.baseAsset,a="object"===typeof e.keys&&e.keys,n="object"===typeof e.incomeKeys&&e.incomeKeys,r="object"===typeof e.balancesKeys&&e.balancesKeys,o="object"===typeof e.myFollowings&&e.myFollowings,s="object"===typeof e.myProducts&&e.myProducts,c=(a||[]).map(function(e){var a=(n||[]).find(function(a){return e.keyId===a.keyId&&a.baseAsset===t}),c=a&&a.income.baseIncome,l=g.profile.settingsShow.courDayIntervalProfit,i=(r||[]).find(function(t){return e.keyId===t.keyId}),d=i&&i.total[t],u=d&&({available:d.available||0,hold:d.hold||0}||{available:0,hold:0}),m=c&&(c.length>l?{value:c[c.length-1].value-c[c.length-l].value}:{value:c[c.length-1].value}),y=u&&{value:u},f=(o||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]).find(function(t){return t.follower.keyId===e.keyId}),v=(s||[]).find(function(t){return t.keyId===e.keyId});return Object(p.a)({},e,{history:{balance:y,income:m,baseAsset:t,usedFollowing:f,usedProduct:v}})});return{baseAsset:t,keys:a,incomeKeys:n,stateKeys:c}},getIncomeForSmallProduct:function(e){var t=g.profile.settingsShow.courDayIntervalSmallProduct,a=("object"===typeof e&&e.baseIncomeHistory||[]).filter(function(e){return 1!==e.value}).map(function(e){return Object(p.a)({},e,{value:100*e.value-100})}),n=a&&a.length;return a&&(n>t?j(a,t):a)},getDataForSmallProduct:function(e){var t="object"===typeof e.myProducts&&e.myProducts,a="object"===typeof e.keys&&e.keys;return t&&a?t.map(function(e){return Object(p.a)({},e,{keys:a})}):g.common.TYPES_RESULT.LOADING},getFreeKeys:function(e,t){var a="object"===typeof e.keys&&e.keys,n="object"===typeof e.myProducts&&e.myProducts,r="object"===typeof e.myFollowings&&e.myFollowings;return{keys:(a||[]).filter(function(e){return e.valid&&!(n||[]).find(function(t){return t.keyId===e.keyId})&&!(r||[]).find(function(t){return t.follower===e.keyId})}).filter(t||function(){return!0})}}},R=a(7),A=a.n(R),C=a(10),P=function(e){return e!==g.common.TYPES_RESULT.ERROR&&e!==g.common.TYPES_RESULT.LOADING&&Object.keys(e).length>0?1:0},B={notPassed:P,addPropery:function(e,t,a){return e.map(function(e){return Object(p.a)({},e,Object(u.a)({},t,e[t]||a))})},saveAuthTokens:function(e){localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken)},removeAuthTokens:function(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},getAuthTokens:function(e){return{accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}},reducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.common.initialState,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1;return a.parentTag&&a.parentTag!==n?t:("FORCE_SET"===a.type&&(r=!0,e=Object.assign({},t,Object(u.a)({},a.keyState,a.value))),r&&e)},submitActions:function(e,t,a,n){var r=[];return t.forEach(function(t){if(a){var o=t;return t.preFnData&&(o=Object(p.a)({},o,o.preFnData({},o,n))),!o.disable&&e(o)}if(t.tags.manuallyUsed&&(r[t.propertyFn]=function(){var a=Object(C.a)(A.a.mark(function a(r){var o;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=t,t.preFnData&&(o=Object(p.a)({},o,o.preFnData(r,o,n))),!o.disable){a.next=4;break}return a.abrupt("return",!1);case 4:return a.next=6,e(o);case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()),t.tags.startRequired){var s=t;return t.preFnData&&(s=Object(p.a)({},s,s.preFnData({},s,n))),!s.disable&&e(s)}}),r},isPagePrivate:function(e){return g.common.privatePages.some(function(t){return e.includes(t)})},isKeysValid:function(e){return!0===e.valid},isKeysNoFollow:function(e,t){return t.some(function(t){return t.follower===e.keyId})},getInitials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A";return"".concat(e[0]).concat(t[0])},getPercentFromValueRating:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)/g.common.settings.ratingMax*100*g.common.settings.ragingScale},getRatingValueShow:function(e){return(e*g.common.settings.ragingScale).toFixed(2)},defaultProcessingResFn:function(e,t){return t}},U={profile:x,common:B,auth:{getTimeOfDeath:function(){var e=U.common.getAuthTokens();if(!e.accessToken||!e.refreshToken)return!1;var t=(new Date).getTime(),a=1e3*JSON.parse(atob(e.accessToken.split(".")[1])).exp-t;return a<0?0:a}},myproduct:{getRequisitionsProduct:function(e){var t=e.productId,a=e.myFollowers,n="object"===typeof a&&a,r=n&&n.find(function(e){return e.product.productId===t}),o=r&&r.followings;return{waitFollowings:o&&o.length&&o.filter(function(e){return"wait"===e.moderation})||[],rejectFollowings:o&&o.length&&o.filter(function(e){return"rejected"===e.moderation})||[],approvedFollowings:o&&o.length&&o.filter(function(e){return"approved"===e.moderation})||[]}},getFollowingsNamedMyKeys:function(e,t){return t.map(function(t){var a=e.find(function(e){return e.keyId===t.follower});return a?Object(p.a)({},t,{nameFollower:a.name,isMyKeys:!0}):Object(p.a)({},t,{nameFollower:"".concat(t.followerDetails.firstName," ").concat(t.followerDetails.lastName)})})}},marketplace:{getFilteredProducts:function(e){return"object"===typeof e&&e||[]}},marketproduct:{getInfoKeysFollow:function(e){var t=e.reduxState,a=e.productId,n=(e.atopFilter,"object"===typeof t.keys&&t.keys),r="object"===typeof t.myProducts&&t.myProducts,o="object"===typeof t.myFollowings&&t.myFollowings,s=(o||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]),c=(n||[]).filter(function(e){return!(r||[]).some(function(t){return t.keyId===e.keyId})}),l=c.filter(function(e){return!(s||[]).some(function(t){return t.follower.keyId===e.keyId})}),i=c.filter(function(e){return(s||[]).some(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId!==a})}),d=c.filter(function(e){return(s||[]).some(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId===a})}).map(function(e){var t=(s||[]).find(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId===a});return Object(p.a)({},e,{tsFollowing:t})}),u=c.filter(function(e){return(o||[]).some(function(t){return t.follower.keyId===e.keyId&&"approved"===t.moderation&&t.productId===a})}),m=c.filter(function(e){return(o||[]).some(function(t){return t.follower.keyId===e.keyId&&"wait"===t.moderation&&t.productId===a})});return{keysFreeFromProduct:c,keysFreeForFollow:l,keysRejectedFollow:i,keysRejectedFollowThisProduct:d,keysForUnfollowThisProduct:u,keysWaitFromThisProduct:m}}}},D=U.common.addPropery([{type:"FORCE_NOSET",propertyFn:"setBaseAsset",keyState:"dashboard",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[L.getIncomeKeys]}},preFnData:function(e,t){return Object(p.a)({},t,{value:{baseAsset:e}})}},{type:"FORCE_NOSET",propertyFn:"clearBalanceKeys",keyState:"balancesKeys",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!1,startRequired:!1,tiedActions:function(){return[L.getBalanceKeys]}}},{type:"FORCE_NOSET",propertyFn:"clearIncomeKeys",keyState:"incomeKeys",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!1,startRequired:!1,tiedActions:function(){return[L.getIncomeKeys]}}},{type:"REQUEST",propertyFn:"getIncomeKeys",keyState:"incomeKeys",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=n.profile.incomeKeys,s="object"===typeof o&&o;return[].concat(Object(m.a)(s||[]),[{keyId:a.data.keyId,baseAsset:a.data.baseAsset,income:(t||{baseIncome:{}}).baseIncome}])}},tags:{manuallyUsed:!1,startRequired:!1},preFnData:function(e,t,a){var n=a.profile,r=n.incomeKeys,o=n.keys,s=n.dashboard,c=U.profile.getNextKeyIdForGetIncomes(o,r,s.baseAsset),l=c.nextKeyId,i=c.isLast;if(!l)return{disable:!0};var d=Object(p.a)({},t,{data:Object(p.a)({},t.data,{url:"/user/income-history/".concat(l,"/").concat(s.baseAsset),keyId:l,baseAsset:s.baseAsset,courBAN:(t.data.courBAN||0)+1})});return i||(d.tags=Object(p.a)({},d.tags,{tiedActions:function(){return[Object(p.a)({},d,{tags:Object(p.a)({},d.tags,{tiedActions:function(){return[]}})})]}})),d.data.courBAN>(o.length||0)+1?{}:d}},{type:"REQUEST",propertyFn:"getBalanceKeys",keyState:"balancesKeys",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"",method:"GET",processingResFn:function(e,t,a,n,r){var o=n.profile.balancesKeys,s="object"===typeof o&&o;return[].concat(Object(m.a)(s||[]),[Object(p.a)({keyId:a.data.keyId},t||{})])}},tags:{manuallyUsed:!1,startRequired:!1},preFnData:function(e,t,a){var n=a.profile,r=n.balancesKeys,o=n.keys,s=n.dashboard,c=U.profile.getNextKeyIdForGetBalances(o,r),l=c.nextKeyId,i=c.isLast;if(console.log({nextKeyId:l,keys:o,balancesKeys:r}),!l)return{disable:!0};var d=Object(p.a)({},t,{data:Object(p.a)({},t.data,{url:"/user/balance?keyId=".concat(l),keyId:l,baseAsset:s.baseAsset,courBAN:(t.data.courBAN||0)+1})});return i||(d.tags=Object(p.a)({},d.tags,{tiedActions:function(){return[Object(p.a)({},d,{tags:Object(p.a)({},d.tags,{tiedActions:function(){return[]}})})]}})),d.data.courBAN>(o.length||0)+1?{}:d}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0,tiedActions:function(){return[L.clearBalanceKeys,L.clearIncomeKeys]}}},{type:"REQUEST",propertyFn:"addKeys",keyState:"addKeysRes",data:{api:"baseCindx",url:"/user/key",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{apiKey:e.apiKey,apiSecret:e.secretKey,stock:"binance",name:e.name,groupName:e.groupName}})}}},{type:"REQUEST",propertyFn:"removeKeys",keyState:"removeKeysRes",data:{api:"baseCindx",url:"/user/key",method:"DELETE",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{keyId:e.keyId}})}}},{type:"REQUEST",propertyFn:"editKeys",keyState:"editKeysRes",data:{api:"baseCindx",url:"/user/key",method:"PUT",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{name:e.name,keyId:e.keyId,apiKey:e.apiKey,apiSecret:e.secretKey}})}}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowers",keyState:"myFollowers",data:{api:"baseCindx",url:"/user/followers",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"addProduct",keyState:"addProductRes",data:{api:"baseCindx",url:"/user/products",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{description:e.description,name:e.name,baseAsset:e.baseAsset,keyId:e.keyId,typeId:parseFloat(e.typeId)}})}}},{type:"REQUEST",propertyFn:"removeProduct",keyState:"removeProductRes",data:{api:"baseCindx",url:"/user/products",method:"DELETE",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{productId:e.productId}})}}},{type:"REQUEST",propertyFn:"editProduct",keyState:"editKeysRes",data:{api:"baseCindx",url:"/products/:productId",method:"PUT",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/products/".concat(e.productId),body:{description:e.description,name:e.name,baseAsset:e.baseAsset}})}}}],"parentTag","profile"),L=D.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),M={actions:D,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.initialState,t=arguments.length>1?arguments[1]:void 0,a=U.common.reducer(e,t,"profile");return!1!==a?a:e}},K=B.addPropery([{type:"REQUEST",propertyFn:"getInfo",keyState:"userInfo",data:{api:"baseCindx",url:"/user/info",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"authLogin",keyState:"loginRes",data:{api:"baseCindx",url:"/auth/login",method:"POST",body:{},processingResFn:function(e,t){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{email:e.email,password:e.password}})}}},{type:"FORCE_NOSET",propertyFn:"authLogout",keyState:"loginRes",tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return B.removeAuthTokens(),Object(p.a)({},e,{type:"FORCE_SET",value:B.getAuthTokens()})}},{type:"REQUEST",propertyFn:"authRegistration",keyState:"authRegistration_res",data:{api:"baseCindx",url:"/auth/signup",method:"POST",body:{},processingResFn:function(e,t){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,roleId:0}})}}},{type:"FORCE_SET",propertyFn:"clearAnyProperty",keyState:"authRegistration_res",tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{keyState:t.keyState,value:t.value})}}},{type:"FORCE_NOSET",propertyFn:"setTokensForRedux",keyState:"loginRes",tags:{manuallyUsed:!1,startRequired:!0},preFnData:function(e,t){return Object(p.a)({},t,{value:B.getAuthTokens()})}},{type:"REQUEST",propertyFn:"refreshTokens",keyState:"loginRes",data:{api:"baseCindx",url:"/auth/refresh",method:"POST",body:{},processingResFn:function(e,t,a){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{accessToken:e.accessToken,refreshToken:e.refreshToken}})}}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}}],"parentTag","common"),G=(K.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.initialState,t=arguments.length>1?arguments[1]:void 0,a=(arguments.length>2&&arguments[2],B.reducer(e,t,"common"));return!1!==a?a:e},actions:K}),V={actions:B.addPropery([],"parentTag","auth"),reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.initialState,t=arguments.length>1?arguments[1]:void 0,a=B.reducer(e,t,"auth");return!1!==a?a:e}},Y={actions:[],reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1},t=arguments.length>1?arguments[1]:void 0,a=B.reducer(e,t,"popups");return!1!==a?a:e}},q=U.common.addPropery([{type:"REQUEST",propertyFn:"getFollowers",keyState:"myFollowers",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"/user/followers",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"reapplyFollowing",keyState:"reapplyFollowingRes",data:{api:"baseCindx",url:"/user/following/reapply",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"sendApproveFollowing",keyState:"sendApproveFollowingRes",data:{api:"baseCindx",url:"/user/following/approve",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers,Q.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"sendRejectFollowing",keyState:"sendRejectFollowingRes",data:{api:"baseCindx",url:"/user/following/reject",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers,Q.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"getThisProduct",keyState:"infoMarketProduct",data:{api:"baseCindx",url:"/user/products/:productId",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/products/".concat(e.productId)})}}},{type:"REQUEST",propertyFn:"setFreezeFollowing",keyState:"setFreezeFollowing_res",data:{api:"baseCindx",url:"/user/following/freeze",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"setUnFreezeFollowing",keyState:"setUnFreezeFollowing_res",data:{api:"baseCindx",url:"/user/following/unfreeze",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"getBalanceByFollowing",keyState:"balancesFollowings",prestateValue:"disable",data:{api:"baseCindx",url:"/user/following/balance",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=a.data.followingId,s=n.myproduct.balancesFollowings,c="object"===typeof s&&s,l=c&&c.findIndex(function(e){return o===e.followingId}),i=Object(p.a)({followingId:o},t);return c?-1!==l?c[l]=i:c.push(i):c=[i],c}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/following/balance?followingId=".concat(e.followingId),followingId:e.followingId})}}},{type:"REQUEST",propertyFn:"getOrdersByFollowing",keyState:"ordersFollowings",prestateValue:"disable",data:{api:"baseCindx",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=a.data.followingId,s=n.myproduct.ordersFollowings,c="object"===typeof s&&s,l=c&&c.findIndex(function(e){return o===e.followingId}),i=Object(p.a)({followingId:o},t);return c?-1!==l?c[l]=i:c.push(i):c=[i],c}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/following/orders?followingId=".concat(e.followingId,"&ordersAmount=",500),followingId:e.followingId})}}},{type:"REQUEST",propertyFn:"setFollowingMode",keyState:"setFollowingMode_res",data:{api:"baseCindx",url:"/user/following/mode",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId,mode:e.mode}})}}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers,Q.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"sendUnFollow",keyState:"sendUnFollowRes",data:{api:"baseCindx",url:"/user/unfollow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[Q.getFollowers,Q.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}}],"parentTag","myproduct"),Q=q.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),W={actions:q,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.myproduct.initialState,t=arguments.length>1?arguments[1]:void 0,a=U.common.reducer(e,t,"myproduct");return!1!==a?a:e}},z=U.common.addPropery([{type:"REQUEST",propertyFn:"getMarketProducts",keyState:"marketProducts",data:{api:"baseCindx",url:"/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}}],"parentTag","marketplace"),Z={profile:M,common:G,auth:V,popups:Y,myproduct:W,marketplace:{actions:z,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.marketplace.initialState,t=arguments.length>1?arguments[1]:void 0,a=U.common.reducer(e,t,"marketplace");return!1!==a?a:e}},marketproduct:{actions:U.common.addPropery([{type:"REQUEST",propertyFn:"getMarketProduct",keyState:"infoMarketProduct",data:{api:"baseCindx",url:"/products/:productId",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/products/".concat(e.productId)})}}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"sendUnFollow",keyState:"sendUnFollowRes",data:{api:"baseCindx",url:"/user/unfollow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"reapplyFollowing",keyState:"reapplyFollowingRes",data:{api:"baseCindx",url:"/user/following/reapply",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}}],"parentTag","marketproduct"),reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.marketproduct.initialState,t=arguments.length>1?arguments[1]:void 0,a=U.common.reducer(e,t,"marketproduct");return!1!==a?a:e}}},H=Object(l.c)({profile:Z.profile.reducer,auth:Z.auth.reducer,common:Z.common.reducer,myproduct:Z.myproduct.reducer,marketplace:Z.marketplace.reducer,marketproduct:Z.marketproduct.reducer}),_=a(52),J=a.n(_),X=function(){var e=Object(C.a)(A.a.mark(function e(t,a,n,r,o){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("error"!==r){e.next=6;break}if("disable"===a.errorStatusValue){e.next=4;break}return e.next=4,t(Object(p.a)({},a,{type:"FORCE_SET",value:a.data.errorStatusValue||g.common.TYPES_RESULT.ERROR,keyState:a.keyState}));case 4:return a.tags.errorNoCauseForTied&&a.tags.tiedActions&&U.common.submitActions(t,a.tags.tiedActions(),!0,o()),e.abrupt("return",a.data.errorStatusValue||g.common.TYPES_RESULT.ERROR);case 6:return e.next=8,t(Object(p.a)({},a,{type:"FORCE_SET",value:((a.data||{}).processingResFn||U.common.defaultProcessingResFn)({},n.data,a,o()),keyState:a.keyState}));case 8:return a.tags.tiedActions&&U.common.submitActions(t,a.tags.tiedActions(),!0,o()),e.abrupt("return",((a.data||{}).processingResFn||U.common.defaultProcessingResFn)({},n.data,a,o()));case 10:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),$={fetchingMiddleware:function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){return"object"===typeof n&&"REQUEST"===n.type?(function(e,t){t.keyState&&"disable"!==t.prestateValue&&e(Object(p.a)({},t,{type:"FORCE_SET",value:t.data.prestateValue||g.common.TYPES_RESULT.LOADING,keyState:t.keyState}))}(t,n),function(e,t,a){var n=g.common.urlsApi[t.data.api],r="".concat(n).concat(t.data.url),o=U.common.getAuthTokens();return J()({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Token":o.accessToken,"Refresh-Token":o.refreshToken},method:t.data.method,data:t.data.body,url:r}).then(function(n){return n.data.error?X(e,t,n.data.error,"error",a):X(e,t,n.data,"success",a)}).catch(function(n){return X(e,t,n,"error",a)})}(t,n,a)):"object"===typeof n&&"FORCE_NOSET"===n.type?X(t,n,{data:n.value},"noset",a):e(n)}}}},ee=Object(d.a)(),te=[i.a,Object(c.routerMiddleware)(ee),$.fetchingMiddleware],ae=l.d.apply(void 0,[l.a.apply(void 0,te)].concat([])),ne=Object(l.e)(Object(c.connectRouter)(ee)(H),{},ae),re=a(24),oe=a(2),se=a(3),ce=a(5),le=a(4),ie=a(6),de={ProfileContext:r.a.createContext({}),AuthContext:r.a.createContext({}),MyProductContext:r.a.createContext({}),MarketplaceContext:r.a.createContext({}),MarketProductContext:r.a.createContext({})},ue=function(e){function t(e){var a,n=e.namePage,r=e.componentWillMount_cb;return Object(oe.a)(this,t),(a=Object(ce.a)(this,Object(le.a)(t).call(this))).actionsBuild=function(){var e=[].concat(Object(m.a)((Z[a.args.namePage]||{actions:[]}).actions),Object(m.a)(Z.common.actions));a.requiredLoadPageBinding(e)},a.requiredLoadPageBinding=function(e){a.actions=U.common.submitActions(a.props.dispatch,e,!1,a.props.state)},a.actions={},a.componentWillMount_cb=r,a.args={namePage:n},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.actionsBuild(),U.common.isPagePrivate(this.args.namePage)&&this.isLoggedIn(),this.componentWillMount_cb&&this.componentWillMount_cb()}},{key:"isLoggedIn",value:function(){var e=this,t=U.common.getAuthTokens(),a=U.auth.getTimeOfDeath();t.accessToken&&t.refreshToken||this.props.history.push("/auth/sign-in"),setTimeout(Object(C.a)(A.a.mark(function a(){return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.actions.refreshTokens(t);case 2:if((a.sent||{}).accessToken){a.next=7;break}return a.next=6,e.actions.authLogout();case 6:return a.abrupt("return",e.props.history.push("/auth/sign-in"));case 7:return a.next=9,e.actionsBuild();case 9:case"end":return a.stop()}},a,this)})),a)}}]),t}(r.a.Component),me=a(13),pe=a(53),ye=a.n(pe),fe=a(54),ve=a.n(fe),ge=a(55),he=a.n(ge),Ee=a(56),be=a.n(Ee),Ne=(a(102),function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(o)))).logout=Object(C.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.actions.authLogout,e.next=3,t();case 3:a.props.history.push("/auth/sign-in");case 4:case"end":return e.stop()}},e,this)})),a.renderUserInfo=function(){var e=a.props.reduxState.userInfo,t=F.common.dataNoLoaded([e]);return t[0]===g.common.TYPES_RESULT.ERROR?r.a.createElement("div",{className:"headerSign"},r.a.createElement(me.a,{className:"item signIn",to:"/auth/sign-in"},"Log in"),r.a.createElement(me.a,{className:"item signUp",to:"/auth/sign-up"},"Sign up")):t[1]?t[1]:r.a.createElement("div",{className:"userBlock"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"textUser nth1"},"".concat(e.firstName," ").concat(e.lastName)),r.a.createElement("div",{className:"textUser nth2"},e.email)),r.a.createElement("div",{className:"imgUser"},r.a.createElement("span",null,"".concat(e.firstName[0]).concat(e.lastName[0])),r.a.createElement("span",{className:"clickLogout",onClick:a.logout})))},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return console.log("hedaer jsx props",this.props),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"leftFix"},r.a.createElement("div",{className:"mobileMenuIcon"},r.a.createElement("img",{className:"icon",src:he.a,alt:"menu"})),r.a.createElement("div",{className:"headerLogoIcon"},r.a.createElement("img",{className:"icon",src:be.a,alt:"menu"})),r.a.createElement("div",{className:"menu"},r.a.createElement(me.a,{className:"item active",to:"/im"},r.a.createElement("img",{src:ye.a,alt:"Here profile icon"}),r.a.createElement("div",{className:"text"},"Profile")),r.a.createElement(me.a,{className:"item",to:"/marketplace"},r.a.createElement("img",{src:ve.a,alt:"Here marketplace icon"}),r.a.createElement("div",{className:"text"},"Marketplace")))),this.renderUserInfo()))}}]),t}(r.a.Component)),ke=(a(103),function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).state={ieoMessageShow:!0},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.atopClass,a=e.children,n=e.settings,o=(e.reduxState,e.actions);return r.a.createElement("div",{className:"".concat(t," internalPage")},n.header&&r.a.createElement(Ne,Object.assign({},this.props,{actions:o})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contentChildren"},a)))}}]),t}(r.a.Component));ke.defaultProps={settings:{header:!0}};a(104);var Oe=function(e){return r.a.createElement("div",{className:"".concat(e.atopClass," blackoutBlock")},e.children)},Ie=a(31),we=a.n(Ie),Se=(a(105),{true:"VALID",false:"ERROR",wait:"WAITING"}),Fe=function(e){var t=e.data.history.baseAsset,a=U.profile.getBalanceHistory(e.data.history.balance,t,"balance"),n=(e.data.history.usedFollowing||{productName:!1}).productName,o=(e.data.history.usedProduct||{name:!1}).name;return r.a.createElement("div",{className:"smallKeys"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"blockItem stock"},{binance:r.a.createElement("img",{src:we.a,alt:"binance",className:"iconLogo"})}[e.data.stock]),r.a.createElement("div",{className:"blockItem infoData"},r.a.createElement("div",{className:"item name"},e.data.name),r.a.createElement("div",{className:"item status ".concat(e.tsStatusKeys)},e.tsStatusKeys)),r.a.createElement("div",{className:"blockItem history"},r.a.createElement("div",{className:"item balance"},"".concat(a.available," (").concat(a.hold,") ").concat(t)),r.a.createElement("div",{className:"item usedFollowing ".concat("positiveFollowing")},n?[r.a.createElement("div",{className:"spanItem"},"Follow"),r.a.createElement("div",{className:"spanItem usedProductName"},n)]:o?[r.a.createElement("div",{className:"spanItem"},"Create"),r.a.createElement("div",{className:"spanItem usedProductName"},o)]:null))),r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"iconHover"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"item",onClick:e.data.methods.setIndexEditing},"Change keys or name"),r.a.createElement("div",{className:"item",onClick:Object(C.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(prompt("Enter account name if you are really going to delete it.","")===e.data.name){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,e.data.methods.remove({keyId:e.data.keyId});case 5:return t.next=7,e.data.methods.reload();case 7:case"end":return t.stop()}},t,this)}))},"Remove"))))},je=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).sendRequest=Object(C.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.edit(Object(p.a)({},e.state,{keyId:e.props.data.keyId}));case 2:return t.next=4,e.props.data.methods.clearIndexEditing();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.state={name:"",apiKey:"",secretKey:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.setState({name:this.props.data.name})}},{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){return[r.a.createElement("div",{className:"parentEditingSmallKeys"},r.a.createElement(Fe,this.props),r.a.createElement("div",{className:"smallKeysEdit"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"Name",placeholder:"Name"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"apiKey"),value:this.state.apiKey,name:"Api key",placeholder:"Api key"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"secretKey"),value:this.state.secretKey,name:"Secret key",placeholder:"Secret key"})),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Save"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.clearIndexEditing},"Cancel")))))]}}]),t}(r.a.Component),Te=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).sendRequest=Object(C.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.add(Object(p.a)({},e.state,{groupName:e.props.data.groupName}));case 2:return t.next=4,e.props.data.methods.toggleAdding();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.state={name:"",apiKey:"",secretKey:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"smallKeysAdd"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"Name",placeholder:"Name"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"apiKey"),value:this.state.apiKey,name:"Api key",placeholder:"Api key"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"secretKey"),value:this.state.secretKey,name:"Secret key",placeholder:"Secret key"})),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Add"),r.a.createElement("div",{className:"item cancel",onClick:this.props.data.methods.toggleAdding},"Cancel"))))}}]),t}(r.a.Component),xe=function(e){var t={ACTIVE:Fe,EDITING:je,ADDING:Te}[e.data.status];return r.a.createElement(t,{data:e.data,tsStatusKeys:"undefined"!==typeof e.data.valid?Se[e.data.valid.toString()]:""})},Re=a(25),Ae=a.n(Re),Ce=a(27),Pe=a.n(Ce),Be={chart:{type:"area",height:150,margin:[0,0,0,0],backgroundColor:null},title:{style:{display:"none"}},subtitle:{text:"",style:{display:"none"}},xAxis:{type:"datetime",allowDecimals:!1,title:{style:{display:"none"}},labels:{enabled:!1}},yAxis:{title:{style:{display:"none"}},labels:{enabled:!1},gridLineColor:"rgba(0,0,0,0)"},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{lineWidth:4,fillOpacity:.5}},tooltip:{pointFormat:"{series.name} {point.y}",shared:!0}},Ue=function(e){return e.income&&e.income.length?r.a.createElement(Pe.a,{highcharts:Ae.a,options:Object(p.a)({},Be,{series:[{name:"Profit %",data:e.income.map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),color:{linearGradient:[0,200],stops:[[0,"rgba(234, 34, 196, .2)"],[1,"rgb(128, 127, 206)"]]}}]})}):r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...")},De=(a(106),{true:"VALID",false:"ERROR",wait:"WAITING"}),Le={marketproduct:function(e){return"/marketproduct/".concat(e)},myproduct:function(e){return"/myproduct/".concat(e)}},Me=function(e){var t=e.data,a=t.trader,n=a.firstName,o=a.lastName,s=t.rating,c=t.rating,l=c.value,i=c.baseIncomeHistory,d=t.name,u=t.baseAsset,m=t.followers,p=t.stock,y=t.typelist,f=t.productId,v=U.common.getPercentFromValueRating(Math.abs(l)),g=U.common.getRatingValueShow(l),h=l&&(l>0?"positive":"sadness"),E=!1;return"object"===typeof i&&0!==i.length||(E=!0),r.a.createElement("div",{className:"smallProduct",key:e.index},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"avatar"},r.a.createElement("div",{className:"initials"},U.common.getInitials(n,o))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",{className:"curWrap"},r.a.createElement("div",{className:"item nameTrader"},"".concat(n," ").concat(o)),r.a.createElement("div",{className:"item nameProduct"},"".concat(d)))),r.a.createElement("div",{className:"righRatingBlock"},E?r.a.createElement("div",null,"Rating processing.."):[r.a.createElement("div",{className:"curTitle"},r.a.createElement("div",null,"Rating"),r.a.createElement("div",{className:"curValue"},g)),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"filled ".concat(h),style:{width:"".concat(v,"%")}}))])),r.a.createElement("div",{className:"historyInfo"},r.a.createElement("div",{className:"infoExchange"},r.a.createElement("div",{className:"exchangeName"},p),r.a.createElement("div",{className:"baseAsset"},u)),r.a.createElement("div",{className:"historyBlock"},r.a.createElement(Ue,{income:U.profile.getIncomeForSmallProduct(s)})),r.a.createElement("div",{className:"infoContent"},r.a.createElement("div",{className:"item"},"Followers: ",m),r.a.createElement(me.a,{className:"moreClick",to:Le[y](f)},"more")))),r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"iconHover"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"item",onClick:e.data.methods.setIndexEditing},"Change options"),r.a.createElement("div",{className:"item",onClick:Object(C.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(prompt("Enter product name if you are really going to delete it.","")===d){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,e.data.methods.remove({productId:f});case 5:return t.next=7,e.data.methods.reload();case 7:case"end":return t.stop()}},t,this)}))},"Remove"))))},Ke=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).sendRequest=Object(C.a)(A.a.mark(function t(){var a;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.data.productId,t.next=3,e.props.data.methods.edit(Object(p.a)({},e.state,{productId:a}));case 3:return t.next=5,e.props.data.methods.clearIndexEditing();case 5:return t.next=7,e.props.data.methods.reload();case 7:case"end":return t.stop()}},t,this)})),e.state={description:"",name:"",baseAsset:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=e.description,a=e.name,n=e.baseAsset;this.setState({description:t,name:a,baseAsset:n})}},{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return[r.a.createElement("div",{className:"parentEditingSmallProduct"},r.a.createElement(Me,this.props),r.a.createElement("div",{className:"smallProductEdit"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"description"),value:this.state.description,name:"description",placeholder:"description"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"name",placeholder:"name"}),r.a.createElement("select",{onChange:function(t){return e.setState({baseAsset:t.target.value})}},r.a.createElement("option",{value:"BTC",selected:"BTC"===this.state.baseAsset},"BTC"),r.a.createElement("option",{value:"USD",selected:"USD"===this.state.baseAsset},"USD"))),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Save"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.clearIndexEditing},"Cancel")))))]}}]),t}(r.a.Component),Ge=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).sendRequest=Object(C.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.add(Object(p.a)({},e.state));case 2:return t.next=4,e.props.data.methods.toggleAdding();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.renderSelectKeys=function(){return r.a.createElement("select",{onChange:function(t){return e.setState({keyId:t.target.value})}},r.a.createElement("option",{value:""},"Select exchange account"),e.props.data.keys.map(function(e,t){return r.a.createElement("option",{key:t,value:e.keyId,onChange:function(e){return console.log(e)}},e.name)}))},e.state={description:"",name:"",baseAsset:"BTC",typeId:0,keyId:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return this.props.data.keys.length?r.a.createElement("div",{className:"smallProductAdd"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},this.renderSelectKeys(),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"description"),value:this.state.description,name:"description",placeholder:"description"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"name",placeholder:"name"}),r.a.createElement("select",{onChange:function(t){return e.setState({baseAsset:t.target.value})}},r.a.createElement("option",{value:"BTC"},"BTC"),r.a.createElement("option",{value:"USD"},"USD")),r.a.createElement("select",{onChange:function(t){return e.setState({typeId:t.target.value})}},r.a.createElement("option",{value:0},"Public"),r.a.createElement("option",{value:1},"Private"))),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Add"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.toggleAdding},"Cancel")))):r.a.createElement("div",{className:"smallProductAdd"},r.a.createElement("div",{className:"mainBlock"},"You have no free exchange accounts!("))}}]),t}(r.a.Component),Ve=function(e){var t={ACTIVE:Me,EDITING:Ke,ADDING:Ge}[e.data.status];return r.a.createElement(t,{data:e.data,tsStatusKeys:"undefined"!==typeof e.data.valid?De[e.data.valid.toString()]:""})},Ye=a(57),qe=a.n(Ye),Qe=Object(u.a)({chart:{type:"area",backgroundColor:"#3C054D"},title:{text:""},rangeSelector:{selected:1},legend:{enabled:!0,itemStyle:{color:"#b1b1b1",fontWeight:"bold"}},credits:{enabled:!1},plotOptions:{area:{marker:{radius:2}}}},"rangeSelector",{selected:4,inputEnabled:!1,labelStyle:{visibility:"hidden"}}),We=function(e){if(!e.income||!e.income.length)return r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...");var t=e.income,a=e.valuePrefix,n=e.valueSuffix,o=t.map(function(e,t){return{name:e.name,data:(e.income||[]).map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),type:"area",gapSize:5,tooltip:{valueDecimals:2,valuePrefix:a,valueSuffix:n},threshold:null}}),s=t.reduce(function(e,t){return e.push.apply(e,Object(m.a)((t.income||[]).map(function(e){return e.value}))),e},[]);return console.log({allIncomesValues:s,min:Math.min.apply(Math,Object(m.a)(s||[])),max:Math.max.apply(Math,Object(m.a)(s||[]))}),r.a.createElement(qe.a,{config:Object(p.a)({},Qe,{series:o,yAxis:{title:{enabled:!1},showFirstLabel:!1,showLastLabel:!0}})})},ze=(a(108),de.ProfileContext.Consumer),Ze=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderHead=function(){var t=e.props,a=t.reduxState,n=a.keys,o=a.dashboard.baseAsset,s=t.actions;return r.a.createElement("div",{className:"head"},r.a.createElement("div",{className:"accounts"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curSmallTitle"},"Select account:"),r.a.createElement("select",{onChange:function(t){return e.setState({selectedAccount:t.target.value})}},r.a.createElement("option",{value:"ALL"},"All accounts"),n.map(function(e,t){return r.a.createElement("option",{key:t,value:e.keyId},e.name)}))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curSmallTitle"},"Mode:"),r.a.createElement("select",{onChange:function(t){return e.setState({selectedMode:t.target.value})}},r.a.createElement("option",{value:"PERCENT",selected:"PERCENT"===e.state.selectedMode},"%"),r.a.createElement("option",{value:"ABSOLUTE",selected:"ABSOLUTE"===e.state.selectedMode},"ABSOLUTE"))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curSmallTitle"},"Type:"),r.a.createElement("select",{onChange:function(t){return e.setState({selectedType:t.target.value})}},r.a.createElement("option",{value:"INCOME",selected:"INCOME"===e.state.selectedType},"INCOME"),r.a.createElement("option",{value:"BALANCE",selected:"BALANCE"===e.state.selectedType},"BALANCE"))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curSmallTitle"},"Select time showing:"),r.a.createElement("select",{onChange:function(t){return e.setState({selectedCourDay:t.target.value})}},[{cour:3,name:"Three days"},{cour:7,name:"Week"},{cour:30,name:"Mount"},{cour:365,name:"Year"},{cour:1e5,name:"ALL"}].map(function(t,a){return r.a.createElement("option",{key:a,value:t.cour,selected:t.cour===e.state.selectedCourDay},t.name)}))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curSmallTitle"},"Select base asset:"),r.a.createElement("select",{onChange:function(e){return s.setBaseAsset(e.target.value)}},["BTC","USD"].map(function(e){return r.a.createElement("option",{value:e,selected:e===o},e)})))))},e.state={selectedAccount:"ALL",selectedCourDay:7,selectedType:"INCOME",selectedMode:"PERCENT"},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"renderChartIncome",value:function(){var e=this.props.reduxState,t=e.keys,a=e.incomeKeys,n=e.dashboard.baseAsset,o=this.state,s=o.selectedAccount,c=o.selectedCourDay,l=o.selectedMode,i=o.selectedType,d=U.profile.getSelectedIncomes(t,a,s,c,n,l,i).incomes;return r.a.createElement("div",{className:"incomeParent"},r.a.createElement(We,{income:d,valueSuffix:"".concat({PERCENT:"% in ".concat(n),ABSOLUTE:n}[l])}))}},{key:"render",value:function(){var e=this.props.reduxState,t=e.incomeKeys,a=e.keys,n=e.dashboard.baseAsset,o=F.common.dataNoLoaded([t,a]);if(o[1])return o[1];var s=this.state,c=s.selectedMode,l=s.selectedType,i={INCOME:{PERCENT:"Your income in ".concat(n,", %:"),ABSOLUTE:"Your income in ".concat(n,":")},BALANCE:{PERCENT:"Your history balances in ".concat(n,", %:"),ABSOLUTE:"Your history balances in ".concat(n,":")}}[l][c];return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"curTitle"},"Basic information about your accounts"),this.renderHead(),r.a.createElement("div",{className:"curSmallTitle"},i),this.renderChartIncome())}}]),t}(r.a.Component),He=function(e){var t=e.reduxState,a=[t.keys,t.myProducts],n=F.common.dataNoLoaded(a);if(n[1])return n[1];var o=a.reduce(function(e,t){return e+P(t)},0);return o>1?r.a.createElement(Ze,e):function(e,t){return P(e[0])?P(e[1]&&!P(2))?r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji"}),r.a.createElement("div",{className:"text"},"Error")):r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji twoStep"}),r.a.createElement("div",{className:"text"},r.a.createElement("div",null,"Thank you for adding your account."),r.a.createElement("div",null,"Now you can create a product or connect to one of the managers."))):r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji welcome"}),r.a.createElement("div",{className:"text"},r.a.createElement("div",null,"We welcome you."),r.a.createElement("div",null,"Please add your account from the exchange.")))}(a)},_e=function(e){return r.a.createElement(ze,null,function(t){var a=t.actions;return r.a.createElement("div",{className:"smallDashboard"},r.a.createElement("div",{className:"contentBox"},r.a.createElement(He,{reduxState:e.reduxState,actions:a})))})},Je=a(22),Xe=(a(109),function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={adding:!1,editingIndex:!1},a.setIndexEditing=function(e){a.setState({editingIndex:e,adding:!1})},a.renderListKeys=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e]);if(console.log({keysNoLoaded:t,keys:e}),t[1])return t[1];var n=e.filter(a.props.filter||function(){return!0}).map(function(e,t){return a.props.blockRender(Object(p.a)({},e,{typelist:a.props.typelist,status:e[a.props.uniqProperty]===a.state.editingIndex?"EDITING":"ACTIVE",methods:{setIndexEditing:a.setIndexEditing.bind(Object(Je.a)(Object(Je.a)(a)),e[a.props.uniqProperty]),clearIndexEditing:a.setIndexEditing.bind(Object(Je.a)(Object(Je.a)(a)),!1),remove:a.props.methods.remove,edit:a.props.methods.edit,reload:a.props.methods.reload}}),t)});return[a.renderAddingKeys(),n]},a.renderListProducts=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e]);if(t[1])return t[1];var n=e.filter(a.props.filter||function(){return!0}).map(function(e,t){return a.props.blockRender(Object(p.a)({},e,{typelist:a.props.typelist,status:e[a.props.uniqProperty]===a.state.editingIndex?"EDITING":"ACTIVE",methods:{setIndexEditing:a.setIndexEditing.bind(Object(Je.a)(Object(Je.a)(a)),e[a.props.uniqProperty]),clearIndexEditing:a.setIndexEditing.bind(Object(Je.a)(Object(Je.a)(a)),!1),remove:a.props.methods.remove,edit:a.props.methods.edit,reload:a.props.methods.reload}}),t)});return[a.renderAddingProduct(),n]},a.toggleAdding=function(){return a.setState({adding:!a.state.adding,editingIndex:!1})},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"renderAddingKeys",value:function(){if(!this.state.adding)return[];var e=this.props.blockRender({groupName:this.props.groupName,status:"ADDING",methods:{add:this.props.methods.add,toggleAdding:this.toggleAdding,reload:this.props.methods.reload}});return r.a.createElement("div",{class:"addingParent"},e)}},{key:"renderAddingProduct",value:function(){if(!this.state.adding)return[];var e=this.props.blockRender({groupName:this.props.groupName,status:"ADDING",keys:this.props.keys,methods:{add:this.props.methods.add,toggleAdding:this.toggleAdding,reload:this.props.methods.reload}});return r.a.createElement("div",{class:"addingParent"},e)}},{key:"render",value:function(){var e=this.props.atopClass;return r.a.createElement("div",{className:"listBlock ".concat(e||"")},r.a.createElement("div",{className:"head"},this.props.texts.title&&r.a.createElement("div",{className:"title"},r.a.createElement("div",null,this.props.texts.title),r.a.createElement("div",{className:"reload",onClick:this.props.methods.reload})),this.props.texts.addButtonText&&r.a.createElement("div",{className:"addButton",onClick:this.toggleAdding},this.props.texts.addButtonText)),r.a.createElement("div",{className:"list"},{renderListKeys:this.renderListKeys,renderListProducts:this.renderListProducts}[this.props.renderFn]()))}}]),t}(r.a.Component)),$e=(a(110),de.ProfileContext.Consumer),et=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(o)))).listBlocksForm={keys:function(e,t){return r.a.createElement(xe,{key:t,data:e})},product:function(e,t){return r.a.createElement(Ve,{key:t,data:e})}},a.getDataForLists=function(){var e=a.props.reduxState,t=U.profile.getDataForSmallKeys(e).stateKeys,n=U.profile.getFreeKeys(e,function(e){return"my"===e.groupName||!e.groupName}).keys;return console.log("#1",{stateKeys:t}),{stateKeys:t,reduxState:e,keysForAddingProduct:n}},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.getDataForLists(),a=t.stateKeys,n=t.reduxState,o=t.keysForAddingProduct;return r.a.createElement($e,null,function(t){var s=t.actions;return r.a.createElement(ke,Object.assign({},e.props,{actions:s},{atopClass:"profile"}),r.a.createElement(Oe,{atopClass:"dashboard"},r.a.createElement(_e,{reduxState:n})),r.a.createElement(Oe,{atopClass:"keys"},r.a.createElement(Xe,{uniqProperty:"keyId",reduxState:a,blockRender:e.listBlocksForm.keys,filter:function(e){return!e.groupName||"my"===e.groupName},groupName:"my",renderFn:"renderListKeys",methods:{reload:s.getKeys,add:s.addKeys,remove:s.removeKeys,edit:s.editKeys},texts:{title:"My keys",addButtonText:"Add account exchange"}})),r.a.createElement(Oe,{atopClass:"keys"},r.a.createElement(Xe,{uniqProperty:"keyId",reduxState:a,blockRender:e.listBlocksForm.keys,filter:function(e){return"investor"===e.groupName},groupName:"investor",renderFn:"renderListKeys",methods:{reload:s.getKeys,add:s.addKeys,remove:s.removeKeys,edit:s.editKeys},texts:{title:"My investors",addButtonText:"Add account exchange"}})),r.a.createElement(Oe,{atopClass:"products"},r.a.createElement(Xe,{uniqProperty:"productId",reduxState:n.myProducts,keys:o,blockRender:e.listBlocksForm.product,renderFn:"renderListProducts",typelist:"myproduct",methods:{reload:s.getProducts,add:s.addProduct,remove:s.removeProduct,edit:s.editProduct},texts:{title:"My products",addButtonText:"Create product"}})))})}}]),t}(r.a.Component),tt=de.ProfileContext.Provider,at=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).call(this,{namePage:"profile"}))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return console.log("#ProfileContainer",this.props.reduxState),r.a.createElement(tt,{value:{actions:this.actions}},r.a.createElement(et,this.props))}}]),t}(ue),nt=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.profile),state:e}})(at),rt=de.AuthContext.Consumer,ot=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).state={email:"",password:"",error:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"changeValueInputs",value:function(e,t){var a;this.setState((a={},Object(u.a)(a,e,t.target.value),Object(u.a)(a,"error",""),a))}},{key:"submitSingIn",value:function(e){return this.state.email?this.state.password?void e({email:this.state.email,password:this.state.password}):this.setState({error:"Fill in password"}):this.setState({error:"Fill in email"})}},{key:"render",value:function(){var e=this,t=this.props.reduxState.loginRes,a=t===g.common.TYPES_RESULT.ERROR?"Incorrect login or password":t===g.common.TYPES_RESULT.LOADING?"Loading..":null;return r.a.createElement(rt,null,function(t){var n=t.actions;return r.a.createElement("div",{className:"signInForm"},r.a.createElement("div",{className:"title"},"Sign In"),r.a.createElement("div",{className:"error-block"},e.state.error||a),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("input",{placeholder:"Email",value:e.state.email,onChange:e.changeValueInputs.bind(e,"email")}),r.a.createElement("input",{type:"password",placeholder:"Password",value:e.state.password,onChange:e.changeValueInputs.bind(e,"password")})),r.a.createElement("button",{className:"button-wrap",onClick:e.submitSingIn.bind(e,n.authLogin)},"Sign In"),r.a.createElement("div",{className:"transitionAccount"},"You do not have an account? ",r.a.createElement(me.a,{className:"span",to:"/auth/sign-up"},"Sign Up")))})}}]),t}(r.a.Component),st=de.AuthContext.Consumer,ct=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderMessage=function(t){var a=t.actions,n=e.props.reduxState.authRegistration_res,o=n===g.common.TYPES_RESULT.ERROR?"Error. Fill in all the fields correctly.":n===g.common.TYPES_RESULT.LOADING?"Loading ...":null;return"OK"===n&&(a.clearAnyProperty({keyState:"authRegistration_res",value:-1}),e.props.history.push("/auth/sign-in")),r.a.createElement("div",{className:"error-block"},e.state.error||o)},e.state={email:"",password:"",firstName:"",lastName:"",error:""},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"changeValueInputs",value:function(e,t){var a;this.setState((a={},Object(u.a)(a,e,t.target.value),Object(u.a)(a,"error",""),a))}},{key:"submitSingIn",value:function(e){return this.state.firstName?this.state.lastName?this.state.email?this.state.password?void e({email:this.state.email,password:this.state.password,firstName:this.state.firstName,lastName:this.state.firstName}):this.setState({error:"Fill in password"}):this.setState({error:"Fill in email"}):this.setState({error:"Fill in Last name"}):this.setState({error:"Fill in Name"})}},{key:"render",value:function(){var e=this;return r.a.createElement(st,null,function(t){var a=t.actions;return r.a.createElement("div",{className:"signUpForm"},r.a.createElement("div",{className:"title"},"Sign Up"),e.renderMessage({actions:a}),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("input",{placeholder:"Name",value:e.state.firstName,onChange:e.changeValueInputs.bind(e,"firstName")}),r.a.createElement("input",{placeholder:"Last name",value:e.state.lastName,onChange:e.changeValueInputs.bind(e,"lastName")}),r.a.createElement("input",{placeholder:"Email",value:e.state.email,onChange:e.changeValueInputs.bind(e,"email")}),r.a.createElement("input",{type:"password",placeholder:"Password",value:e.state.password,onChange:e.changeValueInputs.bind(e,"password")})),r.a.createElement("button",{className:"button-wrap",onClick:e.submitSingIn.bind(e,a.authRegistration)},"Sign Up"),r.a.createElement("div",{className:"transitionAccount"},"Do you have an account? ",r.a.createElement(me.a,{className:"span",to:"/auth/sign-in"},"Sign In")))})}}]),t}(r.a.Component),lt=(a(111),a(112),function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this;return((this.props.reduxState||{}).loginRes||{}).accessToken&&this.props.history.push("/im"),r.a.createElement("div",{className:"registration-page"},r.a.createElement("div",{className:"form-column"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"form"},r.a.createElement(re.Route,{path:"/auth/sign-in",render:function(){return r.a.createElement(ot,e.props)}}),r.a.createElement(re.Route,{path:"/auth/sign-up",render:function(){return r.a.createElement(ct,e.props)}})),r.a.createElement("div",{className:"disclaimer"},"\xa9 2019 Cindx | ",r.a.createElement("span",null,"Privacy Policy"),r.a.createElement("span",null,"Terms of Service"))),r.a.createElement("div",{className:"picture-column"}))}}]),t}(r.a.Component)),it=de.AuthContext.Provider,dt=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).call(this,{namePage:"auth"}))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return console.log("#AuthContainer",this.props.reduxState),r.a.createElement(it,{value:{actions:this.actions}},r.a.createElement(lt,this.props))}}]),t}(ue),ut=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.auth,e.common),state:e}})(dt),mt=a(15),pt=a(23),yt=a.n(pt),ft=(a(114),function(e){var t=e.reduxState,a=t.moderation,n=t.nameFollower;return r.a.createElement("div",{className:"requisitionComponent rejected"},r.a.createElement("div",{className:"text"},"You canceled an application from ".concat(n,", moderation: ").concat(a,".")))}),vt=function(e){return"".concat((e.BTC.available+e.BTC.hold).toFixed(5)," BTC | ").concat((e.USD.available+e.USD.hold).toFixed(2)," USD")},gt=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderBalances=function(){var t=e.props,a=t.balances,n=t.reduxState._id,o=F.common.dataNoLoaded([a]);if(o[1])return[o[1]];var s=("object"===typeof a&&a||[]).find(function(e){return e.followingId===n});if(!s||!Object.keys(s).length)return r.a.createElement("div",null,r.a.createElement("div",null,"Error, trim balances."));var c=s.followerBalance,l=s.followerTotal,i=s.leaderBalance,d=s.leaderTotal,u={leader:[],follower:[]};return Object.entries(Object(p.a)({},i,c)).filter(function(e){var t=Object(mt.a)(e,2),a=(t[0],Object(mt.a)(t[1],2)),n=a[0],r=a[1];return n>0||r>0}).forEach(function(e){var t=Object(mt.a)(e,1)[0],a=i[t]||[0,0],n=Object(mt.a)(a,2),o=n[0],s=n[1],l=c[t]||[0,0],d=Object(mt.a)(l,2),m=d[0],p=d[1];u.leader.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},o),r.a.createElement("div",{className:"curItemCoin"},s),r.a.createElement("div",{className:"curItemCoin"},o+s))),u.follower.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},m),r.a.createElement("div",{className:"curItemCoin"},p),r.a.createElement("div",{className:"curItemCoin"},m+p)))}),r.a.createElement("div",{className:"balancesBlock"},r.a.createElement("div",{className:"betweenItem leaderMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.leader),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Leader"),r.a.createElement("div",{className:"curValue"},vt(d)))),r.a.createElement("div",{className:"betweenItem followerMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.follower),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Follower"),r.a.createElement("div",{className:"curValue"},vt(l)))))},e.state={isShowBalances:!1},e.timers=[],e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.reduxState._id;this.props.methods.getBalanceByFollowing({followingId:e})}},{key:"componentWillUnmount",value:function(){this.timers.forEach(function(e){return clearInterval(e)}),this.timers=[]}},{key:"render",value:function(){var e=this,t=this.props,a=t.reduxState,n=a.nameFollower,o=(a.moderation,a.createdAt),s=(a.follower,a.frozen,a._id),c=a.quality,l=(a.mode,t.balances),i=(("object"===typeof l&&l||[]).find(function(e){return e.followingId===s})||{followerTotal:{BTC:{available:0,hold:0},USD:{available:0,hold:0}}}).followerTotal,d=yt.a.utc(o).toISOString().slice(0,10),u=(c>0?c:0).toFixed(2);return r.a.createElement("div",{className:"requisitionComponent"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"headProperty"},r.a.createElement("div",{className:"item name"},"Name"),r.a.createElement("div",{className:"item totalBalance"},"Total Ballance"),r.a.createElement("div",{className:"item synchronization"},"Synchronization quality"),r.a.createElement("div",{className:"item date"},"Date of requisition")),r.a.createElement("div",{className:"centerValue"},r.a.createElement("div",{className:"item name"},n),r.a.createElement("div",{className:"item totalBalance"},vt(i)),r.a.createElement("div",{className:"item synchronization"},r.a.createElement("div",{className:"justValue"},u,"%"),r.a.createElement("div",{className:"ranger"},r.a.createElement("div",{className:"filled ".concat(u<70?"badly":"good"),style:{flex:u/100}}))),r.a.createElement("div",{className:"item date"},d)),r.a.createElement("div",{className:"clickButtons"},r.a.createElement("div",{className:"item compare",onClick:function(){return e.setState({isShowBalances:!e.state.isShowBalances})}},"Compare balance"),r.a.createElement("div",{className:"rigthBtns"},r.a.createElement("div",{className:"item approve",onClick:this.props.methods.sendApproveFollowing.bind(this,{followingId:s})},"Approve"),r.a.createElement("div",{className:"item remove",onClick:this.props.methods.sendRejectFollowing.bind(this,{followingId:s})},"Remove")))),this.state.isShowBalances&&this.renderBalances())}}]),t}(r.a.Component),ht=function(e){var t=e.status,a={wait:gt,reject:ft}[t];return r.a.createElement(a,e)},Et=(a(115),function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).onChangeStatus=function(){var t=Object(C.a)(A.a.mark(function t(a){var n,r,o,s,c,l;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.reduxState._id,r=e.props.methods,o=r.setFreeze,s=r.setUnFreeze,c=r.setFollowingMode,"frozen"!==(l=a.target.value)){t.next=7;break}return t.next=6,o({followingId:n});case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,c({followingId:n,mode:l});case 9:return t.next=11,s({followingId:n});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getTotalValue=function(e){return"".concat((e.BTC.available+e.BTC.hold).toFixed(5)," BTC | ").concat((e.USD.available+e.USD.hold).toFixed(2)," USD")},e.renderBalances=function(){var t=e.props,a=t.balances,n=t.reduxState._id,o=F.common.dataNoLoaded([a]);if(o[1])return[o[1]];var s=("object"===typeof a&&a||[]).find(function(e){return e.followingId===n});if(!s||!Object.keys(s).length)return r.a.createElement("div",null,r.a.createElement("div",null,"Error, trim balances."));var c=s.followerBalance,l=s.followerTotal,i=s.leaderBalance,d=s.leaderTotal,u={leader:[],follower:[]};return Object.entries(Object(p.a)({},i,c)).filter(function(e){var t=Object(mt.a)(e,2),a=(t[0],Object(mt.a)(t[1],2)),n=a[0],r=a[1];return n>0||r>0}).forEach(function(e){var t=Object(mt.a)(e,1)[0],a=i[t]||[0,0],n=Object(mt.a)(a,2),o=n[0],s=n[1],l=c[t]||[0,0],d=Object(mt.a)(l,2),m=d[0],p=d[1];u.leader.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},o),r.a.createElement("div",{className:"curItemCoin"},s),r.a.createElement("div",{className:"curItemCoin"},o+s))),u.follower.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},m),r.a.createElement("div",{className:"curItemCoin"},p),r.a.createElement("div",{className:"curItemCoin"},m+p)))}),r.a.createElement("div",{className:"balancesBlock"},r.a.createElement("div",{className:"betweenItem leaderMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.leader),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Leader"),r.a.createElement("div",{className:"curValue"},e.getTotalValue(d)))),r.a.createElement("div",{className:"betweenItem followerMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.follower),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Follower"),r.a.createElement("div",{className:"curValue"},e.getTotalValue(l)))))},e.state={isShowBalances:!1},e.timers=[],e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.reduxState._id;this.props.methods.getBalanceByFollowing({followingId:t}),this.timers.push(setInterval(function(){e.props.methods.getBalanceByFollowing({followingId:t}),e.props.methods.getFollowers({followingId:t})},5e3))}},{key:"componentWillUnmount",value:function(){this.timers.forEach(function(e){return clearInterval(e)}),this.timers=[]}},{key:"render",value:function(){var e=this,t=this.props,a=t.reduxState,n=a.nameFollower,o=(a.moderation,a.createdAt),s=(a.follower,a.frozen),c=a._id,l=a.quality,i=a.mode,d=t.balances,u=(("object"===typeof d&&d||[]).find(function(e){return e.followingId===c})||{followerTotal:{BTC:{available:0,hold:0},USD:{available:0,hold:0}}}).followerTotal,m=s?"frozen":i,p=yt.a.utc(o).toISOString().slice(0,10),y=(l>0?l:0).toFixed(2);return r.a.createElement("div",{className:"investorComponent"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"headProperty"},r.a.createElement("div",{className:"item name"},"Name"),r.a.createElement("div",{className:"item status"},"Status"),r.a.createElement("div",{className:"item totalBalance"},"Total Ballance"),r.a.createElement("div",{className:"item synchronization"},"Synchronization quality"),r.a.createElement("div",{className:"item date"},"Date of accseccion")),r.a.createElement("div",{className:"centerValue"},r.a.createElement("div",{className:"item name"},n),r.a.createElement("div",{className:"item status"},r.a.createElement("select",{onChange:this.onChangeStatus,value:m},r.a.createElement("option",{value:"none",selected:"none"===m},"..."),r.a.createElement("option",{value:"copy",selected:"copy"===m},"SYNC"),r.a.createElement("option",{value:"rebalance",selected:"rebalance"===m},"REBALANCE"),r.a.createElement("option",{value:"frozen",selected:"frozen"===m},"FROZEN"))),r.a.createElement("div",{className:"item totalBalance"},this.getTotalValue(u)),r.a.createElement("div",{className:"item synchronization"},r.a.createElement("div",{className:"justValue"},y,"%"),r.a.createElement("div",{className:"ranger"},r.a.createElement("div",{className:"filled ".concat(y<70?"badly":"good"),style:{flex:y/100}}))),r.a.createElement("div",{className:"item date"},p)),r.a.createElement("div",{className:"clickButtons"},r.a.createElement("div",{className:"item compare",onClick:function(){return e.setState({isShowBalances:!e.state.isShowBalances})}},"Compare balance"),r.a.createElement("div",{className:"item unsubscribe",onClick:this.props.methods.sendRejectFollowing.bind(this,{followingId:c})},"Unsubscribe"))),this.state.isShowBalances&&this.renderBalances())}}]),t}(r.a.Component)),bt=function(e){return r.a.createElement(Et,e)},Nt={chart:{type:"area",height:250,margin:[0,0,0,0],backgroundColor:null},title:{style:{display:"none"}},subtitle:{text:"",style:{display:"none"}},xAxis:{type:"datetime",allowDecimals:!1,title:{style:{display:"none"}},labels:{enabled:!1}},yAxis:{title:{style:{display:"none"}},labels:{enabled:!1},gridLineColor:"rgba(0,0,0,0)"},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{lineWidth:4,fillOpacity:.5}},tooltip:{pointFormat:"{series.name} {point.y}",shared:!0}},kt=function(e){return e.income&&e.income.length?r.a.createElement(Pe.a,{highcharts:Ae.a,options:Object(p.a)({},Nt,{series:[{name:"Profit %",data:e.income.map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),color:{linearGradient:[0,200],stops:[[0,"rgb(126,63,255)"],[1,"rgb(255,117,244)"]]}}]})}):r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...")},Ot=a(58);a.n(Ot)()(Ae.a);var It={chart:{polar:!0,type:"area",width:300,height:300,margin:[0,0,0,0],backgroundColor:null},title:{text:null},pane:{size:"40%"},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,title:{text:"",align:"high"},labels:{enabled:!1},align:"center"},tooltip:{shared:!1},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{fillColor:{linearGradient:[0,200],stops:[[0,"rgba(234, 34, 196, .2)"],[1,"rgb(128, 127, 206)"]]}}}},wt=function(e){if(!e.ratingValues)return r.a.createElement("div",null,"processing...");console.log({p:e.ratingValues});var t={MaxDrawdown:[0,5,15,45,80,100],DmaxDD:[0,5,15,45,80,100],IncomeAverage:[-100,1e-5,.005,.09,.5,1.5],Volatility:[0,.01,.1,.5,1,2.5],Income:[0,5,15,45,80,100]},a=Object.keys(e.ratingValues).reduce(function(t,a){return t[a]=(100*e.ratingValues[a]).toFixed(2),t},{}),n=Object.keys(a).map(function(e,n,r){return 10*function(e,a){return t[e].reduce(function(e,t,n,r){return!1===e?a>=t&&a<=(r[n+1]||1/0)&&n:e},!1)||0}(e,a[e])+10});return r.a.createElement(Pe.a,{highcharts:Ae.a,options:Object(p.a)({},It,{xAxis:{categories:Object.keys(a),tickmarkPlacement:"on",lineWidth:0},series:[{data:n,pointPlacement:"on"}]})})},St=(a(116),function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props.reduxState.infoMarketProduct,t=e.trader,a=t.firstName,n=t.lastName,o=e.rating,s=e.rating,c=s.value,l=s.incomeAverage,i=s.maxDrawdown,d=s.maxRecoveryTimeShare,u=s.nTicks,m=s.volatilityState,p=s.baseIncomeHistory,y=e.name,f=e.since,v=e.baseAsset,g=e.description,h=e.followers,E=e.stock,b=!1;"object"===typeof p&&0!==p.length||(b=!0);var N=U.common.getPercentFromValueRating(Math.abs(c)),k=U.common.getRatingValueShow(c),O=c&&(c>0?"positive":"sadness"),I=p&&p.length&&p[p.length-1].value/p[0].value-1,w=p&&p.length&&{Volatility:(10*function(){var e=Math.max(1,u-2);return(m.sqrSum-Math.pow(m.linSum,2)/e)/e}()).toFixed(2),IncomeAverage:(l<0?0:l).toFixed(2),MaxDrawdown:(100*i).toFixed(2),DmaxDD:(100*d).toFixed(2),Income:(I<0?0:I).toFixed(2)};return r.a.createElement("div",{className:"fullProduct"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"avatar"},r.a.createElement("div",{className:"initials"},U.common.getInitials(a,n))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",{className:"curWrap"},r.a.createElement("div",{className:"nameTrader"},"".concat(a," ").concat(n)),r.a.createElement("div",{className:"rating"},b?r.a.createElement("div",null,"Rating processing.."):[r.a.createElement("div",{className:"curTitle"},"Rating ",k,": "),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"filled ".concat(O),style:{width:"".concat(N,"%")}}))])))),r.a.createElement("div",{className:"historyInfo"},r.a.createElement("div",{className:"infoExchange"},r.a.createElement("div",{className:"exchangeName"},E),r.a.createElement("div",{className:"baseAsset"},v)),r.a.createElement("div",{className:"historyBlock"},r.a.createElement(kt,{income:U.profile.getIncomeForSmallProduct(o)})),r.a.createElement("div",{className:"infoContent"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Name product: "),r.a.createElement("div",{className:"value"},y)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Amount investors: "),r.a.createElement("div",{className:"value"},h)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Since: "),r.a.createElement("div",{className:"value"},f)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Description product: "),r.a.createElement("div",{className:"value"},g))),!b&&r.a.createElement("div",{className:"ratingInfo"},r.a.createElement("div",{className:"ratingValuesChart"},r.a.createElement(wt,{ratingValues:w})),r.a.createElement("div",{className:"ratingValuesText"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Volatility: "),r.a.createElement("div",{className:"value"},w.Volatility)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"IncomeAverage: "),r.a.createElement("div",{className:"value"},w.IncomeAverage)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"MaxDrawdown: "),r.a.createElement("div",{className:"value"},w.MaxDrawdown,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"DmaxDD: "),r.a.createElement("div",{className:"value"},w.DmaxDD,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Income: "),r.a.createElement("div",{className:"value"},w.Income,"%")))))))}}]),t}(r.a.Component)),Ft=(a(117),function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderListKeys=function(t){return r.a.createElement("select",{onChange:function(t){return e.setState({selectedFollowKeyId:t.target.value})},value:e.state.selectedFollowKeyId},r.a.createElement("option",{value:!1},"No selected"),t.map(function(e,t){return r.a.createElement("option",{value:e.keyId,key:t},e.name)}))},e.sendFollowing=Object(C.a)(A.a.mark(function t(){var a,n,r,o,s,c,l;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.selectedFollowKeyId,n=e.props,r=n.methodFollow,o=n.productId,s=n.keys,c=s.find(function(e){return e.keyId===a}),l=0,c.tsFollowing&&(l=c.tsFollowing.followingId),a){t.next=7;break}return t.abrupt("return",!1);case 7:r({selfKeyId:a,productId:o,followingId:l});case 8:case"end":return t.stop()}},t,this)})),e.state={selectedFollowKeyId:!1},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.atopClass,a=e.title,n=e.keys,o=e.buttonText;return n.length?r.a.createElement("div",{className:"listItem ".concat(t)},r.a.createElement("div",{className:"curTitle"},a),this.renderListKeys(n),o&&r.a.createElement("div",{className:"btnSend",onClick:this.sendFollowing.bind(this)},o)):null}}]),t}(r.a.Component)),jt=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderFollowForm=function(){var t=e.props,a=t.reduxState,n=t.methods,o=(t.page,a.keys),s=a.myFollowings,c=F.common.dataNoLoaded([o,s]);if(c[1])return c[1];var l=a.infoMarketProduct.productId,i=U.marketproduct.getInfoKeysFollow({reduxState:a,productId:l}),d=i.keysFreeForFollow,u=i.keysRejectedFollowThisProduct,m=i.keysRejectedFollow,p=i.keysForUnfollowThisProduct,y=i.keysWaitFromThisProduct;return console.log({keysFreeForFollow:d,keysRejectedFollowThisProduct:u,keysRejectedFollow:m,keysForUnfollowThisProduct:p,keysWaitFromThisProduct:y}),r.a.createElement("div",{className:"followForm"},r.a.createElement("div",{className:"typesKeys"},r.a.createElement(Ft,{keys:d,title:"Completely free accounts, you can connect!",atopClass:"freeFollow",methodFollow:n.sendFollow,productId:l,buttonText:"Start following"}),r.a.createElement(Ft,{keys:m,title:"Your applications for these accounts have been canceled, so you can select this manager.",atopClass:"rejectedFollow",methodFollow:n.sendFollow,productId:l,buttonText:"Start following"}),r.a.createElement(Ft,{keys:u,title:"This manager has canceled your application, you can re-send the application.",atopClass:"rejectedFollowThisProduct",methodFollow:n.reapplyFollowing,productId:l,buttonText:"Re-send following"}),r.a.createElement(Ft,{keys:p,title:"Want to unsubscribe from this product?",atopClass:"unfollowThisProduct",methodFollow:n.sendUnFollow,productId:l,buttonText:"Stop following"}),r.a.createElement(Ft,{keys:y,title:"Your applications are processed for these accounts by this manager.",atopClass:"waitThisProduct",methodFollow:n.sendFollow,productId:l})))},e.state={selectedFollowKeyId:!1},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return this.renderFollowForm()}}]),t}(r.a.Component),Tt=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).toggleShowContent=function(){var t=e.state.isShow;e.setState({isShow:!t})},e.state={isShow:!1},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Head,a=e.Content,n=this.state.isShow,o=[r.a.createElement(t,{isShow:n,drowdownContent:this.toggleShowContent})];return n&&o.push(r.a.createElement(a,{isShow:n,drowdownContent:this.toggleShowContent})),o}}]),t}(r.a.Component),xt=(a(118),function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).renderGroupOrdersList=function(){var t=e.props,a=t.reduxState,n=a.ordersFollowings,o=a.myFollowers,s=a.keys,c=t.paramsProduct,l=t.filter,i=l.date,d=l.follower,u=F.common.dataNoLoaded([s,o,n]);if(u[1])return u[1];var y=U.myproduct.getRequisitionsProduct({productId:c.productId,myFollowers:o}).approvedFollowings,f=U.myproduct.getFollowingsNamedMyKeys(s,y).filter(function(e){return"all"===d||d===e.follower}),v=function(e,t){return e.map(function(e){return Object(p.a)({},e,t.reduce(function(e,t){return e[t[0]]=t[1],e},{}))})},g=n.filter(function(e){return!!f.find(function(t){return e.followingId===t._id})}).reduce(function(e,t,a,n){var r,o,c=t.leaderOrders,l=t.followerOrders,i=t.followingLogs,d=c.length&&c[0].keyId,u=d&&(s.find(function(e){return e.keyId===d})||{name:"error name"}).name,p=l.length&&l[0].keyId,y=p&&(f.find(function(e){return e.follower===p})||{nameFollower:"error name"}).nameFollower;return c.forEach(function(t){var a;e.allOrders.find(function(e){return e.orderId===t.orderId})||(a=e.allOrders).push.apply(a,Object(m.a)(v([t],[["name",u],["position","leader"]])))}),(r=e.allOrders).push.apply(r,Object(m.a)(v(l,[["name",y],["position","follower"]]))),(o=e.allFollowingsLog).push.apply(o,Object(m.a)(i)),e},{allOrders:[],allFollowingsLog:[]});return g.allOrders=g.allOrders.filter(function(e){return!!new Date(e.updatedAt).getTime()}).sort(function(e,t){return"new"===i?new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime():new Date(e.updatedAt).getTime()-new Date(t.updatedAt).getTime()}),g.allOrders.length?e.renderTrades({arrAllOrders:g}):r.a.createElement("div",{className:"logTrades"},"While empty.")},e.renderTrades=function(t){var a=t.arrAllOrders,n=e.props.filter.nosync,o=e.state.quantityLeaderOrdersShow,s=function(e,t,a,n){return r.a.createElement("div",{className:"item leaderTrade ".concat(t?"hasLogTrades":"noHasLogTrades"),key:"".concat(e.orderId,"-").concat(e.symbol)},r.a.createElement("div",{className:"boxOfTrade clickMore"},r.a.createElement("div",{className:"curClick",onClick:a})),r.a.createElement("div",{className:"boxOfTrade relativitySuccess success-".concat(n&&n[0]===n[1])},r.a.createElement("span",{className:"curValue"},n?"".concat(n[0],"/").concat(n[1]):"1/1")),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},e.symbol),r.a.createElement("div",{className:"boxOfTrade type"},e.type),r.a.createElement("div",{className:"boxOfTrade side ".concat(e.side)},e.side),r.a.createElement("div",{className:"boxOfTrade price"},e.price),r.a.createElement("div",{className:"boxOfTrade quantity"},e.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(e.status)},e.status),r.a.createElement("div",{className:"boxOfTrade time"},yt.a.utc(e.createdAt?e.createdAt:e.updatedAt).toISOString().slice(11,19)))},c={},l={},i=function(e){var t=a.allFollowingsLog.filter(function(t){return t.leaderOrderId===e.orderId}),n=a.allOrders.filter(function(e){return!!t.find(function(t){return t.followerOrderId===e.orderId})}),o=yt.a.utc(e.updatedAt).toISOString().slice(0,10),i=n.length>0,d=i&&n.reduce(function(t,a,n){return t[0]+=a.status===e.status?1:0,t[1]+=1,t},[1,1]);Object.assign(c,Object(u.a)({},o,c[o]||[])),n.forEach(function(e){l[e.orderId]=!0}),c[o].push(r.a.createElement(Tt,{Head:function(t){return t.isShow?null:r.a.createElement("div",{className:"curTradeParent"},s(e,i,t.drowdownContent,d))},Content:function(t){return r.a.createElement("div",{className:"curTradeParent opened"},s(e,i,t.drowdownContent,d),i&&r.a.createElement("div",{className:"tsFollowersTrades"},n.map(function(e){return t=e,r.a.createElement("div",{className:"item followerTrade",key:"".concat(t.orderId,"-").concat(t.symbol)},r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"10%"}}),r.a.createElement("div",{className:"boxOfTrade name"},t.name),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade line"},r.a.createElement("div",{className:"tsLine"})),r.a.createElement("div",{className:"boxOfTrade price"},t.price),r.a.createElement("div",{className:"boxOfTrade quantity"},t.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(t.status)},t.status),r.a.createElement("div",{className:"boxOfTrade time"},yt.a.utc(t.createdAt?t.createdAt:t.updatedAt).toISOString().slice(11,19)));var t})))}}))},d=function(e){if(a.allFollowingsLog.find(function(t){return t.followerOrderId===e.orderId}))return!1;var t,o=yt.a.utc(e.updatedAt).toISOString().slice(0,10);Object.assign(c,Object(u.a)({},o,c[o]||[])),c[o].push((t=e,r.a.createElement("div",{className:"item noFollowTrade show-".concat(n),key:"".concat(t.orderId,"-").concat(t.symbol)},r.a.createElement("div",{className:"boxOfTrade clickMore"},r.a.createElement("div",{className:"curClick"})),r.a.createElement("div",{className:"boxOfTrade relativitySuccess"},r.a.createElement("span",{className:"curValue"},t.name)),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},t.symbol),r.a.createElement("div",{className:"boxOfTrade type"},t.type),r.a.createElement("div",{className:"boxOfTrade side ".concat(t.side)},t.side),r.a.createElement("div",{className:"boxOfTrade price"},t.price),r.a.createElement("div",{className:"boxOfTrade quantity"},t.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(t.status)},t.status),r.a.createElement("div",{className:"boxOfTrade time"},yt.a.utc(t.createdAt?t.createdAt:t.updatedAt).toISOString().slice(11,19)))))};a.allOrders.every(function(e,t){return"leader"===e.position&&i(e),"follower"===e.position&&d(e),t<o});var m=Object.entries(c).map(function(e){var t=Object(mt.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"boxOfDay"},r.a.createElement("div",{className:"titleDay"},a),n)});return r.a.createElement("div",{className:"tradeItemsParent"},r.a.createElement("div",{className:"item headTable"},r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"30%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},"Pair"),r.a.createElement("div",{className:"boxOfTrade type"},"Type"),r.a.createElement("div",{className:"boxOfTrade side"},"Side"),r.a.createElement("div",{className:"boxOfTrade price"},"Price"),r.a.createElement("div",{className:"boxOfTrade quantity"},"Quantity"),r.a.createElement("div",{className:"boxOfTrade status"},"Status"),r.a.createElement("div",{className:"boxOfTrade time"},"Time")),m)},e.showMoreTrade=function(){var t=e.state.quantityLeaderOrdersShow;e.setState({quantityLeaderOrdersShow:t+6})},e.state={quantityLeaderOrdersShow:2},e.timers=[],e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.reduxState.myFollowers,n=t.paramsProduct,r=t.actions;U.myproduct.getRequisitionsProduct({productId:n.productId,myFollowers:a}).approvedFollowings.forEach(function(t){r.getOrdersByFollowing({followingId:t._id}),e.timers.push(setInterval(function(){return r.getOrdersByFollowing({followingId:t._id})},5e3))})}},{key:"componentWillUnmount",value:function(){this.timers.forEach(function(e){return clearInterval(e)}),this.timers=[]}},{key:"render",value:function(){return r.a.createElement("div",{className:"logTrades"},this.renderGroupOrdersList(),r.a.createElement("div",{className:"moreTrades",onClick:this.showMoreTrade},"More trades"))}}]),t}(r.a.Component)),Rt=(a(119),de.MyProductContext.Consumer),At=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).startRenderGroupTrades=function(t,a,n){var o=e.props.reduxState,s=o.myFollowers,c=o.keys,l=o.infoMarketProduct,i=F.common.dataNoLoaded([c,s,l]);return i[1]?i[1]:r.a.createElement(xt,Object.assign({},t,{actions:a,filter:n}))},e.getFollowers=function(){var t=e.props,a=t.reduxState,n=a.ordersFollowings,r=a.myFollowers,o=a.keys,s=t.paramsProduct;if(F.common.dataNoLoaded([o,r,n])[1])return[];var c=U.myproduct.getRequisitionsProduct({productId:s.productId,myFollowers:r}).approvedFollowings;return U.myproduct.getFollowingsNamedMyKeys(o,c)},e.state={date:"new",follower:"all",nosync:!0},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.date,n=t.follower,o=t.nosync;return r.a.createElement("div",{className:"typeList followingTrades"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Following trades"),r.a.createElement("div",{className:"rightPanel"},r.a.createElement("div",{className:"curTitle"},"Filter by"),r.a.createElement("div",{className:"filterMenu"},r.a.createElement("select",{onChange:function(t){return e.setState({date:t.target.value})}},r.a.createElement("option",{value:"new",selected:"new"===a},"First new deal"),r.a.createElement("option",{value:"old",selected:"old"===a},"First old deal")),r.a.createElement("select",{onChange:function(t){return e.setState({follower:t.target.value})}},r.a.createElement("option",{value:"all",selected:"all"===n},"Show all followers"),this.getFollowers().map(function(e,t){return r.a.createElement("option",{value:e.follower,key:t},e.nameFollower)})),r.a.createElement("select",{onChange:function(t){return e.setState({nosync:t.target.value})}},r.a.createElement("option",{value:!0,selected:!0===o},"Show unsynchronized transactions"),r.a.createElement("option",{value:!1,selected:!1===o},"Hide unsynchronized transactions"))))),r.a.createElement("div",{className:"content"},this.startRenderGroupTrades(this.props,this.props.actions,{date:a,follower:n,nosync:o})))}}]),t}(r.a.Component),Ct=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(o)))).renderListRequisitions=function(e){var t=e.actions,n=a.props,o=n.reduxState,s=o.myFollowers,c=o.keys,l=o.balancesFollowings,i=n.paramsProduct,d=F.common.dataNoLoaded([c,s]);if(d[1])return d[1];var u=U.myproduct.getRequisitionsProduct({productId:i.productId,myFollowers:s}),m=u.waitFollowings,p=u.rejectFollowings,y=[],f=U.myproduct.getFollowingsNamedMyKeys(c,m),v=U.myproduct.getFollowingsNamedMyKeys(c,p);return y[0]=f.map(function(e,a){return r.a.createElement(ht,{status:"wait",key:e._id,reduxState:e,balances:l,methods:{sendApproveFollowing:t.sendApproveFollowing,sendRejectFollowing:t.sendRejectFollowing,getBalanceByFollowing:t.getBalanceByFollowing}})}),y[1]=v.map(function(e,t){return r.a.createElement(ht,{status:"reject",key:e._id,reduxState:e})}),m.length||p.length?y:r.a.createElement("div",null,"You have not yet sent any applications for managing funds.")},a.renderListInvestors=function(e){var t=e.actions,n=a.props,o=n.reduxState,s=o.myFollowers,c=o.keys,l=o.balancesFollowings,i=n.paramsProduct,d=F.common.dataNoLoaded([c,s]);if(d[1])return d[1];var u=U.myproduct.getRequisitionsProduct({productId:i.productId,myFollowers:s}).approvedFollowings,m=U.myproduct.getFollowingsNamedMyKeys(c,u),p=[];return p[0]=m.map(function(e,a){return r.a.createElement(bt,{key:e._id,reduxState:e,balances:l,methods:{setFreeze:t.setFreezeFollowing,setUnFreeze:t.setUnFreezeFollowing,getBalanceByFollowing:t.getBalanceByFollowing,getOrdersByFollowing:t.getOrdersByFollowing,setFollowingMode:t.setFollowingMode,getFollowings:t.getFollowings,getFollowers:t.getFollowers,sendRejectFollowing:t.sendRejectFollowing}})}),u.length?p:r.a.createElement("div",null,"You have no active investors on this product yet.")},a.renderThisProduct=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e.infoMarketProduct]);return t[1]?t[1]:r.a.createElement(St,{reduxState:e})},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reduxState;return console.log("#MyProductComponent reduxState",this.props.reduxState),r.a.createElement(Rt,null,function(a){var n=a.actions;return r.a.createElement(ke,Object.assign({},e.props,{actions:n},{atopClass:"myproduct"}),r.a.createElement(Oe,{atopClass:"requisitions"},r.a.createElement(At,Object.assign({},e.props,{actions:n})),r.a.createElement("div",{className:"typeList investorList"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Your investors"),r.a.createElement("div",{className:"rightPanel"})),r.a.createElement("div",{className:"content"},e.renderListInvestors({actions:n}))),r.a.createElement("div",{className:"typeList requisitionsList"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Your Requisitions"),r.a.createElement("div",{className:"rightPanel"})),r.a.createElement("div",{className:"content"},e.renderListRequisitions({actions:n})))),r.a.createElement(Oe,{atopClass:"myproductinfo"},r.a.createElement(jt,{reduxState:t,methods:n}),e.renderThisProduct()))})}}]),t}(r.a.Component),Pt=de.MyProductContext.Provider,Bt=function(e){function t(){var e;return Object(oe.a)(this,t),e=Object(ce.a)(this,Object(le.a)(t).call(this,{namePage:"myproduct",componentWillMount_cb:function(){var t=e.props.match.params.productId;e.actions.getThisProduct({productId:t})}}))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props.match.params.productId;return r.a.createElement(Pt,{value:{actions:this.actions}},r.a.createElement(Ct,Object.assign({},this.props,{paramsProduct:{productId:e}})))}}]),t}(ue),Ut=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.myproduct),state:e}})(Bt),Dt=(a(120),de.MarketplaceContext.Consumer),Lt=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(o)))).listBlocksForm={marketProduct:function(e,t){return r.a.createElement(Ve,{key:t,data:e})}},a}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reduxState,a=U.marketplace.getFilteredProducts(t.marketProducts);return r.a.createElement(Dt,null,function(t){var n=t.actions;return r.a.createElement(ke,Object.assign({},e.props,{actions:n},{atopClass:"marketplace"}),r.a.createElement(Xe,{atopClass:"markets",uniqProperty:"productId",reduxState:a,blockRender:e.listBlocksForm.marketProduct,renderFn:"renderListProducts",typelist:"marketproduct",methods:{reload:n.getProducts,add:n.addProduct,remove:n.removeKeys,edit:n.editKeys},texts:{title:!1,addButtonText:!1}}))})}}]),t}(r.a.Component),Mt=de.MarketplaceContext.Provider,Kt=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).call(this,{namePage:"marketplace",componentWillMount_cb:function(){}}))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return console.log("#MarketplaceContainer props",this.props),r.a.createElement(Mt,{value:{actions:this.actions}},r.a.createElement(Lt,this.props))}}]),t}(ue),Gt=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.marketplace),state:e}})(Kt),Vt=(a(121),de.MarketProductContext.Consumer),Yt=function(e){function t(){return Object(oe.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"renderFullProduct",value:function(e){var t=e.actions,a=this.props.reduxState,n=F.common.dataNoLoaded([a.infoMarketProduct]);return n[1]?n[1]:r.a.createElement("div",{className:"marketProduct"},r.a.createElement("div",{className:"content"},r.a.createElement(St,{reduxState:a}),r.a.createElement(jt,{reduxState:a,methods:t})))}},{key:"render",value:function(){var e=this;this.props.reduxState;return r.a.createElement(Vt,null,function(t){var a=t.actions;return r.a.createElement(ke,Object.assign({},e.props,{actions:a}),e.renderFullProduct({actions:a}))})}}]),t}(r.a.Component),qt=de.MarketProductContext.Provider,Qt=function(e){function t(){var e;return Object(oe.a)(this,t),e=Object(ce.a)(this,Object(le.a)(t).call(this,{namePage:"marketproduct",componentWillMount_cb:function(){var t=e.props.match.params.productId;e.actions.getMarketProduct({productId:t})}}))}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props.match.params.productId;return console.log("#MarketProductContainer",this.props.reduxState),r.a.createElement(qt,{value:{actions:this.actions}},r.a.createElement(Yt,Object.assign({},this.props,{paramsProduct:{productId:e}})))}}]),t}(ue),Wt=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.marketproduct),state:e}})(Qt),zt=function(e){function t(){var e;return Object(oe.a)(this,t),(e=Object(ce.a)(this,Object(le.a)(t).call(this))).state={redirecting:!1},e}return Object(ie.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.setState({redirecting:!0})}},{key:"render",value:function(){return this.state.redirecting&&r.a.createElement(re.Redirect,{to:this.props.to})}}]),t}(r.a.Component),Zt=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(re.Route,{path:"/",exact:!0,component:function(){return r.a.createElement(zt,{to:"/im"})}}),r.a.createElement(re.Route,{path:"/im",exact:!0,component:nt}),r.a.createElement(re.Route,{path:"/auth",component:ut}),r.a.createElement(re.Route,{path:"/myproduct/:productId?",exact:!0,component:Ut}),r.a.createElement(re.Route,{path:"/marketplace",exact:!0,component:Gt}),r.a.createElement(re.Route,{path:"/marketproduct/:productId?",exact:!0,component:Wt}))},Ht=(a(122),a(123),document.querySelector("#root"));Object(o.render)(r.a.createElement(s.Provider,{store:ne},r.a.createElement(c.ConnectedRouter,{history:ee},r.a.createElement(Zt,null))),Ht)}]),[[59,1,2]]]);
//# sourceMappingURL=main.c5c77980.chunk.js.map