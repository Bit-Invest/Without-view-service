(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a(18),c=a(28),l=a(26),i=a(49),d=a(19),u=a(8),m=a(9),p=a(1),f={initialState:{keys:-1,myProducts:-1,connectedProducts:-1,incomeKeys:-1,balancesKeys:-1,dashboard:{baseAsset:"USD"}},settingsShow:{courDayIntervalProfit:7,courDayIntervalSmallProduct:3e3}},y={initialState:{loginRes:{accessToken:!1,refreshToken:!1}}},v={urlsApi:{baseCindx:localStorage.getItem("baseCindxUrl")||"https://api-live.cindx.io"},initialState:{loginRes:{accessToken:!1,refreshToken:!1},userInfo:-1},TYPES_RESULT:{ERROR:-2,LOADING:-1,SUCESS:1},privatePages:["profile"],settings:{ratingMax:10,ragingScale:100},loggerSettings:{groupNames:["profile","myproduct","marketproduct","marketplace"],active:!0}},g={profile:f,common:v,auth:y,myproduct:{initialState:{myFollowers:-1,infoMarketProduct:-1,balancesFollowings:-1,ordersFollowings:-1},settings:{intervalUpdateFollowersSec:1e4},statusesShowing:{TRADE:"FILLED",CANCELED:"CANCELED",NEW:"OPEN"}},marketplace:{initialState:{marketProducts:-1}},marketproduct:{initialState:{infoMarketProduct:-1,keys:-1}}},h=a(50),E=a.n(h),b={dataNoLoaded:function(e){var t=e,a=t.some(function(e){return e===g.common.TYPES_RESULT.LOADING});return t.some(function(e){return e===g.common.TYPES_RESULT.ERROR})?[g.common.TYPES_RESULT.ERROR,r.a.createElement("div",null,"ERROR REQUEST")]:a?[g.common.TYPES_RESULT.LOADING,r.a.createElement("div",null,"Loading...")]:[g.common.TYPES_RESULT.SUCESS,!1]}},N=a(51),k=a.n(N),w=a(52),O=a.n(w),I=a(53),S=a.n(I),F={profile:E.a,common:b,myproduct:k.a,marketplace:O.a,marketproduct:S.a},j=a(15),T=a.n(j),x=function(e,t){var a=e.length>t?e.length-t:0,n=e[a];return e.slice(a,e.length).map(function(e){return Object(p.a)({},e,{value:e.value-n.value})})},R=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PERCENT",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"INCOME",r="object"===typeof e&&e||{baseBalance:[],baseIncome:[]},o=r.baseBalance,s=r.baseIncome;if("object"!==typeof o||!o.length)return[];var c=o.length>t?o.length-t:0,l=o.slice(c,o.length).filter(function(e){return e.value>0}),i=l.map(function(e){return Object(p.a)({},e,{value:e.value/l[0].value})}),d=s.length>t?s.length-t:0,u=s.slice(d,s.length).filter(function(e,t,a){return 1!==(a[t+1]||{value:0}).value||1!==e.value}),m=u.map(function(e){return Object(p.a)({},e,{value:e.value-u[0].value})}).map(function(e,t){return Object(p.a)({},e,{value:e.value*(l[t-1]||{value:0}).value})});return{INCOME:{PERCENT:u.map(function(e){return Object(p.a)({},e,{value:100*e.value-100})}),ABSOLUTE:m},BALANCE:{PERCENT:i,ABSOLUTE:l}}[n][a]},C=function(e){var t="object"===typeof e.keys&&e.keys;return("object"===typeof e.myFollowers&&e.myFollowers||[]).reduce(function(e,a){return(a.followings||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]).forEach(function(a){(t||[]).find(function(e){return a.follower===e.keyId})||e.push(Object(p.a)({},a,{keyId:a.follower,groupName:"investor",comment:"Valid key",valid:!0,stock:"binance",name:"".concat(a.followerDetails.firstName," ").concat(a.followerDetails.lastName),marketplace:!0}))}),e},[])},A={getConnectedProducts:function(e){var t="object"===typeof e.myFollowings&&e.myFollowings||[];return t.length?(t||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]).filter(function(e){return"approved"===e.moderation}):e.myFollowings},getMarketplaceInvestors:C,getIncomeForKeys:R,getSelectedIncomes:function(e,t,a,n,r,o,s){return{incomes:("ALL"===a?e:[e.find(function(e){return e.keyId===a})]).map(function(e){var a=t.find(function(t){return t.keyId===e.keyId&&t.baseAsset===r}),c=a&&R(a.income,n,o,s);return Object(p.a)({},e,{income:c,baseAsset:a&&a.baseAsset})})}},getNextKeyIdForGetIncomes:function(e,t,a){var n="object"===typeof t&&t,r=("object"===typeof e&&e||[]).filter(function(e){return!(n||[]).find(function(t){return e.keyId===t.keyId&&t.baseAsset===a})});return r.length?{nextKeyId:r[0].keyId,isLast:1===r.length}:{nextKeyId:!1}},getNextKeyIdForGetBalances:function(e,t){var a="object"===typeof t&&t,n=("object"===typeof e&&e||[]).filter(function(e){return!(a||[]).find(function(t){return e.keyId===t.keyId})});return n.length?{nextKeyId:n[0].keyId,isLast:1===n.length}:{nextKeyId:!1}},getBalanceHistory:function(e,t,a){if(!e||!e.value)return!1;var n=e.value,r=function(e){return parseFloat(e).toFixed({USD:2,BTC:5}[t])};return{available:r(n.available),hold:r(n.hold)}},getValueHistory:function(e,t,a){return parseFloat((e||{value:0}).value).toFixed({USD:2,BTC:5}[t])},getDataForSmallKeys:function(e){if(F.common.dataNoLoaded([e.keys])[1])return{stateKeys:e.keys};var t=e.dashboard.baseAsset,a="object"===typeof e.keys&&e.keys,n="object"===typeof e.incomeKeys&&e.incomeKeys,r="object"===typeof e.balancesKeys&&e.balancesKeys,o="object"===typeof e.myFollowings&&e.myFollowings,s="object"===typeof e.myProducts&&e.myProducts,c=C(e),l=([].concat(Object(m.a)(a||[]),Object(m.a)(c||[]))||[]).map(function(e){var a=(n||[]).find(function(a){return e.keyId===a.keyId&&a.baseAsset===t}),c=a&&a.income.baseIncome,l=g.profile.settingsShow.courDayIntervalProfit,i=(r||[]).find(function(t){return e.keyId===t.keyId}),d=i&&i.total[t],u=d&&d.available&&{available:d.available||0,hold:d.hold||0}||!1,m=c&&(c.length>l?{value:c[c.length-1].value-c[c.length-l].value}:{value:c[c.length-1].value}),f=u&&{value:u},y=(o||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]).find(function(t){return t.follower.keyId===e.keyId}),v=(s||[]).find(function(t){return t.keyId===e.keyId});return Object(p.a)({},e,{history:{balance:f,income:m,baseAsset:t,usedFollowing:y,usedProduct:v}})});return{baseAsset:t,keys:a,incomeKeys:n,stateKeys:l}},getIncomeForSmallProduct:function(e){var t=g.profile.settingsShow.courDayIntervalSmallProduct,a=("object"===typeof e&&e.baseIncomeHistory||[]).filter(function(e){return 1!==e.value}).map(function(e){return Object(p.a)({},e,{value:100*e.value-100})}),n=a&&a.length,r=a&&(n>t?x(a,t):a),o=a&&(n>7?x(a,7):a),s=a&&(n>30?x(a,30):a);return r&&{historyIncome:function(e){if(!e[0])return e;var t=e[0].timestamp;return[{value:0,timestamp:T()(t).add(-1,"days")}].concat(Object(m.a)(e))}(r),weekIncome:o,monthIncome:s}},getDataForSmallProduct:function(e){var t="object"===typeof e.myProducts&&e.myProducts,a="object"===typeof e.keys&&e.keys;return t&&a?t.map(function(e){return Object(p.a)({},e,{keys:a})}):g.common.TYPES_RESULT.LOADING},getFreeKeys:function(e,t){var a="object"===typeof e.keys&&e.keys,n="object"===typeof e.myProducts&&e.myProducts,r=("object"===typeof e.myFollowings&&e.myFollowings||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]);return{keys:(a||[]).filter(function(e){return e.valid&&!(n||[]).find(function(t){return t.keyId===e.keyId})&&!(r||[]).find(function(t){return t.follower.keyId===e.keyId&&t&&["approved","wait"].includes(t.moderation)})}).filter(t||function(){return!0})}}},P=a(7),U=a.n(P),L=a(10),D=function(e){return e!==g.common.TYPES_RESULT.ERROR&&e!==g.common.TYPES_RESULT.LOADING&&Object.keys(e).length>0?1:0},B={logger:function(e){return function(t){var a=g.common.loggerSettings,n=a.groupNames;a.active&&n.includes(e)&&console.log("| ".concat(e,":"),t)}},notPassed:D,addPropery:function(e,t,a){return e.map(function(e){return Object(p.a)({},e,Object(u.a)({},t,e[t]||a))})},saveAuthTokens:function(e){localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken)},removeAuthTokens:function(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},getAuthTokens:function(e){return{accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}},reducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.common.initialState,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1;return a.parentTag&&a.parentTag!==n?t:("FORCE_SET"===a.type&&(r=!0,e=Object.assign({},t,Object(u.a)({},a.keyState,a.value))),r&&e)},submitActions:function(e,t,a,n){var r=[];return t.forEach(function(t){if(a){var o=t;return t.preFnData&&(o=Object(p.a)({},o,o.preFnData({},o,n))),!o.disable&&e(o)}if(t.tags.manuallyUsed&&(r[t.propertyFn]=function(){var a=Object(L.a)(U.a.mark(function a(r){var o;return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=t,t.preFnData&&(o=Object(p.a)({},o,o.preFnData(r,o,n))),!o.disable){a.next=4;break}return a.abrupt("return",!1);case 4:return a.next=6,e(o);case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()),t.tags.startRequired){var s=t;return t.preFnData&&(s=Object(p.a)({},s,s.preFnData({},s,n))),!s.disable&&e(s)}}),r},isPagePrivate:function(e){return g.common.privatePages.some(function(t){return e.includes(t)})},isKeysValid:function(e){return!0===e.valid},isKeysNoFollow:function(e,t){return t.some(function(t){return t.follower===e.keyId})},getInitials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A";return"".concat(e[0]).concat(t[0])},getPercentFromValueRating:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)/g.common.settings.ratingMax*100*g.common.settings.ragingScale},getRatingValueShow:function(e){return(e*g.common.settings.ragingScale).toFixed(2)},defaultProcessingResFn:function(e,t){return t}},K={profile:A,common:B,auth:{getTimeOfDeath:function(){var e=K.common.getAuthTokens();if(!e.accessToken||!e.refreshToken)return!1;var t=(new Date).getTime(),a=1e3*JSON.parse(atob(e.accessToken.split(".")[1])).exp-t;return a<0?0:a}},myproduct:{getRequisitionsProduct:function(e){var t=e.productId,a=e.myFollowers,n="object"===typeof a&&a,r=n&&n.find(function(e){return e.product.productId===t}),o=r&&r.followings;return{waitFollowings:o&&o.length&&o.filter(function(e){return"wait"===e.moderation})||[],rejectFollowings:o&&o.length&&o.filter(function(e){return"rejected"===e.moderation})||[],approvedFollowings:o&&o.length&&o.filter(function(e){return"approved"===e.moderation})||[]}},getFollowingsNamedMyKeys:function(e,t){return t.map(function(t){var a=e.find(function(e){return e.keyId===t.follower});return a?Object(p.a)({},t,{nameFollower:a.name,isMyKeys:!0}):Object(p.a)({},t,{nameFollower:"".concat(t.followerDetails.firstName," ").concat(t.followerDetails.lastName)})})}},marketplace:{getFilteredProducts:function(e){return"object"===typeof e&&e||[]}},marketproduct:{getInfoKeysFollow:function(e){var t=e.reduxState,a=e.productId,n=(e.atopFilter,"object"===typeof t.keys&&t.keys),r="object"===typeof t.myProducts&&t.myProducts,o="object"===typeof t.myFollowings&&t.myFollowings,s=(o||[]).sort(function(e,t){return t.createdAt-e.createdAt}).reduce(function(e,t,a){return e.find(function(e){return(e.follower.keyId||0)===t.follower.keyId})?e:(e.push(t),e)},[]),c=((n||[]).filter(function(e){return e.valid})||[]).filter(function(e){return!(r||[]).some(function(t){return t.keyId===e.keyId})}),l=c.filter(function(e){return!(s||[]).some(function(t){return t.follower.keyId===e.keyId})}),i=c.filter(function(e){return(s||[]).some(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId!==a})}),d=c.filter(function(e){return(s||[]).some(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId===a})}).map(function(e){var t=(s||[]).find(function(t){return t.follower.keyId===e.keyId&&"rejected"===t.moderation&&t.productId===a});return Object(p.a)({},e,{tsFollowing:t})}),u=c.filter(function(e){return(o||[]).some(function(t){return t.follower.keyId===e.keyId&&"approved"===t.moderation&&t.productId===a})}),m=c.filter(function(e){return(o||[]).some(function(t){return t.follower.keyId===e.keyId&&"wait"===t.moderation&&t.productId===a})});return{keysFreeFromProduct:c,keysFreeForFollow:l,keysRejectedFollow:i,keysRejectedFollowThisProduct:d,keysForUnfollowThisProduct:u,keysWaitFromThisProduct:m}}}},q=K.common.addPropery([{type:"FORCE_NOSET",propertyFn:"setBaseAsset",keyState:"dashboard",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[M.getIncomeKeys]}},preFnData:function(e,t){return Object(p.a)({},t,{value:{baseAsset:e}})}},{type:"FORCE_NOSET",propertyFn:"clearBalanceKeys",keyState:"balancesKeys",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!1,startRequired:!1,tiedActions:function(){return[M.getBalanceKeys]}}},{type:"FORCE_NOSET",propertyFn:"clearIncomeKeys",keyState:"incomeKeys",value:-1,data:{processingResFn:function(e,t){return t}},tags:{manuallyUsed:!1,startRequired:!1,tiedActions:function(){return[M.getIncomeKeys]}}},{type:"REQUEST",propertyFn:"getIncomeKeys",keyState:"incomeKeys",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=n.profile.incomeKeys,s="object"===typeof o&&o;return[].concat(Object(m.a)(s||[]),[{keyId:a.data.keyId,baseAsset:a.data.baseAsset,income:(t||{baseIncome:{}}).baseIncome}])}},tags:{manuallyUsed:!1,startRequired:!1},preFnData:function(e,t,a){var n=a.profile,r=n.incomeKeys,o=n.keys,s=n.dashboard,c=K.profile.getMarketplaceInvestors(a.profile),l=[].concat(Object(m.a)(o),Object(m.a)(c)),i=K.profile.getNextKeyIdForGetIncomes(l,r,s.baseAsset),d=i.nextKeyId,u=i.isLast;if(!d)return{disable:!0};var f=Object(p.a)({},t,{data:Object(p.a)({},t.data,{url:"/user/income-history/".concat(d,"/").concat(s.baseAsset),keyId:d,baseAsset:s.baseAsset,courBAN:(t.data.courBAN||0)+1})});return u||(f.tags=Object(p.a)({},f.tags,{tiedActions:function(){return[Object(p.a)({},f,{tags:Object(p.a)({},f.tags,{tiedActions:function(){return[]}})})]}})),f.data.courBAN>(l.length||0)+1?{}:f}},{type:"REQUEST",propertyFn:"getBalanceKeys",keyState:"balancesKeys",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"",method:"GET",processingResFn:function(e,t,a,n,r){var o=n.profile.balancesKeys,s="object"===typeof o&&o;return[].concat(Object(m.a)(s||[]),[Object(p.a)({keyId:a.data.keyId},t||{})])}},tags:{manuallyUsed:!1,startRequired:!1},preFnData:function(e,t,a){var n=a.profile,r=n.balancesKeys,o=n.keys,s=n.dashboard,c=K.profile.getMarketplaceInvestors(a.profile),l=[].concat(Object(m.a)(o),Object(m.a)(c)),i=K.profile.getNextKeyIdForGetBalances(l,r),d=i.nextKeyId,u=i.isLast;if(!d)return{disable:!0};var f=Object(p.a)({},t,{data:Object(p.a)({},t.data,{url:"/user/balance?keyId=".concat(d),keyId:d,baseAsset:s.baseAsset,courBAN:(t.data.courBAN||0)+1})});return u||(f.tags=Object(p.a)({},f.tags,{tiedActions:function(){return[Object(p.a)({},f,{tags:Object(p.a)({},f.tags,{tiedActions:function(){return[]}})})]}})),f.data.courBAN>(l.length||0)+1?{}:f}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[M.clearBalanceKeys,M.clearIncomeKeys]}}},{type:"REQUEST",propertyFn:"addKeys",keyState:"addKeysRes",data:{api:"baseCindx",url:"/user/key",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{apiKey:e.apiKey,apiSecret:e.secretKey,stock:"binance",name:e.name,groupName:e.groupName}})}}},{type:"REQUEST",propertyFn:"removeKeys",keyState:"removeKeysRes",data:{api:"baseCindx",url:"/user/key",method:"DELETE",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{keyId:e.keyId}})}}},{type:"REQUEST",propertyFn:"editKeys",keyState:"editKeysRes",data:{api:"baseCindx",url:"/user/key",method:"PUT",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{name:e.name,keyId:e.keyId,apiKey:e.apiKey,apiSecret:e.secretKey}})}}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowers",keyState:"myFollowers",data:{api:"baseCindx",url:"/user/followers",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0,tiedActions:function(){return[M.getKeys]}}},{type:"REQUEST",propertyFn:"addProduct",keyState:"addProductRes",data:{api:"baseCindx",url:"/user/products",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{description:e.description,name:e.name,baseAsset:e.baseAsset,keyId:e.keyId,typeId:parseFloat(e.typeId)}})}}},{type:"REQUEST",propertyFn:"removeProduct",keyState:"removeProductRes",data:{api:"baseCindx",url:"/user/products",method:"DELETE",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{productId:e.productId}})}}},{type:"REQUEST",propertyFn:"editProduct",keyState:"editKeysRes",data:{api:"baseCindx",url:"/products/:productId",method:"PUT",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/products/".concat(e.productId),body:{description:e.description,name:e.name,baseAsset:e.baseAsset}})}}}],"parentTag","profile"),M=q.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),V={actions:q,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.initialState,t=arguments.length>1?arguments[1]:void 0,a=K.common.reducer(e,t,"profile");return!1!==a?a:e}},_=B.addPropery([{type:"REQUEST",propertyFn:"getInfo",keyState:"userInfo",data:{api:"baseCindx",url:"/user/info",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"authLogin",keyState:"loginRes",data:{api:"baseCindx",url:"/auth/login",method:"POST",body:{},processingResFn:function(e,t){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{email:e.email,password:e.password}})}}},{type:"FORCE_NOSET",propertyFn:"authLogout",keyState:"loginRes",tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return B.removeAuthTokens(),Object(p.a)({},e,{type:"FORCE_SET",value:B.getAuthTokens()})}},{type:"REQUEST",propertyFn:"authRegistration",keyState:"authRegistration_res",data:{api:"baseCindx",url:"/auth/signup",method:"POST",body:{},errorStatusValue:function(e){return e},processingResFn:function(e,t){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,roleId:0}})}}},{type:"FORCE_SET",propertyFn:"clearAnyProperty",keyState:"authRegistration_res",tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{keyState:t.keyState,value:t.value})}}},{type:"FORCE_NOSET",propertyFn:"setTokensForRedux",keyState:"loginRes",tags:{manuallyUsed:!1,startRequired:!0},preFnData:function(e,t){return Object(p.a)({},t,{value:B.getAuthTokens()})}},{type:"REQUEST",propertyFn:"refreshTokens",keyState:"loginRes",data:{api:"baseCindx",url:"/auth/refresh",method:"POST",body:{},processingResFn:function(e,t,a){return t.accessToken&&t.refreshToken&&B.saveAuthTokens(t),t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{accessToken:e.accessToken,refreshToken:e.refreshToken}})}}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}}],"parentTag","common"),G=(_.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.initialState,t=arguments.length>1?arguments[1]:void 0,a=(arguments.length>2&&arguments[2],B.reducer(e,t,"common"));return!1!==a?a:e},actions:_}),Q={actions:B.addPropery([],"parentTag","auth"),reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.initialState,t=arguments.length>1?arguments[1]:void 0,a=B.reducer(e,t,"auth");return!1!==a?a:e}},Y={actions:[],reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1},t=arguments.length>1?arguments[1]:void 0,a=B.reducer(e,t,"popups");return!1!==a?a:e}},W=K.common.addPropery([{type:"REQUEST",propertyFn:"getFollowers",keyState:"myFollowers",prestateValue:"disable",errorStatusValue:"disable",data:{api:"baseCindx",url:"/user/followers",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"reapplyFollowing",keyState:"reapplyFollowingRes",data:{api:"baseCindx",url:"/user/following/reapply",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers,z.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"sendApproveFollowing",keyState:"sendApproveFollowingRes",data:{api:"baseCindx",url:"/user/following/approve",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers,z.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"sendRejectFollowing",keyState:"sendRejectFollowingRes",data:{api:"baseCindx",url:"/user/following/reject",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers,z.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"getThisProduct",keyState:"infoMarketProduct",data:{api:"baseCindx",url:"/user/products/:productId",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/products/".concat(e.productId)})}}},{type:"REQUEST",propertyFn:"setFreezeFollowing",keyState:"setFreezeFollowing_res",data:{api:"baseCindx",url:"/user/following/freeze",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"setUnFreezeFollowing",keyState:"setUnFreezeFollowing_res",data:{api:"baseCindx",url:"/user/following/unfreeze",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}},{type:"REQUEST",propertyFn:"getBalanceByFollowing",keyState:"balancesFollowings",prestateValue:"disable",data:{api:"baseCindx",url:"/user/following/balance",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=a.data.followingId,s=n.myproduct.balancesFollowings,c="object"===typeof s&&s,l=c&&c.findIndex(function(e){return o===e.followingId}),i=Object(p.a)({followingId:o},t);return c?-1!==l?c[l]=i:c.push(i):c=[i],c}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/following/balance?followingId=".concat(e.followingId),followingId:e.followingId})}}},{type:"REQUEST",propertyFn:"getOrdersByFollowing",keyState:"ordersFollowings",prestateValue:"disable",data:{api:"baseCindx",method:"GET",body:[],processingResFn:function(e,t,a,n,r){var o=a.data.followingId,s=n.myproduct.ordersFollowings,c="object"===typeof s&&s,l=c&&c.findIndex(function(e){return o===e.followingId}),i=Object(p.a)({followingId:o},t);return c?-1!==l?c[l]=i:c.push(i):c=[i],c}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/user/following/orders?followingId=".concat(e.followingId,"&ordersAmount=",500),followingId:e.followingId})}}},{type:"REQUEST",propertyFn:"setFollowingMode",keyState:"setFollowingMode_res",data:{api:"baseCindx",url:"/user/following/mode",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId,mode:e.mode}})}}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers,z.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"sendUnFollow",keyState:"sendUnFollowRes",data:{api:"baseCindx",url:"/user/unfollow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1,tiedActions:function(){return[z.getFollowers,z.getFollowings]}},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}}],"parentTag","myproduct"),z=W.reduce(function(e,t){return Object.assign({},e,Object(u.a)({},t.propertyFn,t))},{}),H={actions:W,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.myproduct.initialState,t=arguments.length>1?arguments[1]:void 0,a=K.common.reducer(e,t,"myproduct");return!1!==a?a:e}},J=K.common.addPropery([{type:"REQUEST",propertyFn:"getMarketProducts",keyState:"marketProducts",data:{api:"baseCindx",url:"/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}}],"parentTag","marketplace"),Z={profile:V,common:G,auth:Q,popups:Y,myproduct:H,marketplace:{actions:J,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.marketplace.initialState,t=arguments.length>1?arguments[1]:void 0,a=K.common.reducer(e,t,"marketplace");return!1!==a?a:e}},marketproduct:{actions:K.common.addPropery([{type:"REQUEST",propertyFn:"getMarketProduct",keyState:"infoMarketProduct",data:{api:"baseCindx",url:"/products/:productId",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{url:"/products/".concat(e.productId)})}}},{type:"REQUEST",propertyFn:"getKeys",keyState:"keys",data:{api:"baseCindx",url:"/user/key",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"sendFollow",keyState:"sendFollowRes",data:{api:"baseCindx",url:"/user/follow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"sendUnFollow",keyState:"sendUnFollowRes",data:{api:"baseCindx",url:"/user/unfollow",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{selfKeyId:e.selfKeyId,productId:e.productId}})}}},{type:"REQUEST",propertyFn:"getFollowings",keyState:"myFollowings",data:{api:"baseCindx",url:"/user/followings",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"getProducts",keyState:"myProducts",data:{api:"baseCindx",url:"/user/products",method:"GET",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!0}},{type:"REQUEST",propertyFn:"reapplyFollowing",keyState:"reapplyFollowingRes",data:{api:"baseCindx",url:"/user/following/reapply",method:"POST",body:[],processingResFn:function(e,t){return t}},tags:{manuallyUsed:!0,startRequired:!1},preFnData:function(e,t){return{data:Object(p.a)({},t.data,{body:{followingId:e.followingId}})}}}],"parentTag","marketproduct"),reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.marketproduct.initialState,t=arguments.length>1?arguments[1]:void 0,a=K.common.reducer(e,t,"marketproduct");return!1!==a?a:e}}},X=Object(l.c)({profile:Z.profile.reducer,auth:Z.auth.reducer,common:Z.common.reducer,myproduct:Z.myproduct.reducer,marketplace:Z.marketplace.reducer,marketproduct:Z.marketproduct.reducer}),$=a(54),ee=a.n($),te=function(){var e=Object(L.a)(U.a.mark(function e(t,a,n,r,o){var s;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("error"!==r){e.next=8;break}if("disable"===a.errorStatusValue){e.next=6;break}return s=g.common.TYPES_RESULT.ERROR,"function"===typeof a.data.errorStatusValue?s=a.data.errorStatusValue(n):a.data.errorStatusValue&&(s=a.data.errorStatusValue),e.next=6,t(Object(p.a)({},a,{type:"FORCE_SET",value:s,keyState:a.keyState}));case 6:return a.tags.errorNoCauseForTied&&a.tags.tiedActions&&K.common.submitActions(t,a.tags.tiedActions(),!0,o()),e.abrupt("return",a.data.errorStatusValue||g.common.TYPES_RESULT.ERROR);case 8:return e.next=10,t(Object(p.a)({},a,{type:"FORCE_SET",value:((a.data||{}).processingResFn||K.common.defaultProcessingResFn)({},n.data,a,o()),keyState:a.keyState}));case 10:return a.tags.tiedActions&&K.common.submitActions(t,a.tags.tiedActions(),!0,o()),e.abrupt("return",((a.data||{}).processingResFn||K.common.defaultProcessingResFn)({},n.data,a,o()));case 12:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),ae={fetchingMiddleware:function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){return"object"===typeof n&&"REQUEST"===n.type?(function(e,t){t.keyState&&"disable"!==t.prestateValue&&e(Object(p.a)({},t,{type:"FORCE_SET",value:t.data.prestateValue||g.common.TYPES_RESULT.LOADING,keyState:t.keyState}))}(t,n),function(e,t,a){var n=g.common.urlsApi[t.data.api],r="".concat(n).concat(t.data.url),o=K.common.getAuthTokens();return ee()({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Token":o.accessToken,"Refresh-Token":o.refreshToken},method:t.data.method,data:t.data.body,url:r}).then(function(n){return n.data.error?te(e,t,n.data.error,"error",a):te(e,t,n.data,"success",a)}).catch(function(n){return te(e,t,n,"error",a)})}(t,n,a)):"object"===typeof n&&"FORCE_NOSET"===n.type?te(t,n,{data:n.value},"noset",a):e(n)}}}},ne=Object(d.a)(),re=[i.a,Object(c.routerMiddleware)(ne),ae.fetchingMiddleware],oe=l.d.apply(void 0,[l.a.apply(void 0,re)].concat([])),se=Object(l.e)(Object(c.connectRouter)(ne)(X),{},oe),ce=a(24),le=a(2),ie=a(3),de=a(6),ue=a(4),me=a(5),pe={ProfileContext:r.a.createContext({}),AuthContext:r.a.createContext({}),MyProductContext:r.a.createContext({}),MarketplaceContext:r.a.createContext({}),MarketProductContext:r.a.createContext({})},fe=function(e){function t(e){var a,n=e.namePage,r=e.componentWillMount_cb;return Object(le.a)(this,t),(a=Object(de.a)(this,Object(ue.a)(t).call(this))).actionsBuild=function(){var e=[].concat(Object(m.a)((Z[a.args.namePage]||{actions:[]}).actions),Object(m.a)(Z.common.actions));a.requiredLoadPageBinding(e)},a.requiredLoadPageBinding=function(e){a.actions=K.common.submitActions(a.props.dispatch,e,!1,a.props.state)},a.actions={},a.componentWillMount_cb=r,a.args={namePage:n},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){this.actionsBuild(),K.common.isPagePrivate(this.args.namePage)&&this.isLoggedIn(),this.componentWillMount_cb&&this.componentWillMount_cb()}},{key:"isLoggedIn",value:function(){var e=this,t=K.common.getAuthTokens(),a=K.auth.getTimeOfDeath();t.accessToken&&t.refreshToken||this.props.history.push("/auth/sign-in"),setTimeout(Object(L.a)(U.a.mark(function a(){return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.actions.refreshTokens(t);case 2:if((a.sent||{}).accessToken){a.next=7;break}return a.next=6,e.actions.authLogout();case 6:return a.abrupt("return",e.props.history.push("/auth/sign-in"));case 7:return a.next=9,e.actionsBuild();case 9:case"end":return a.stop()}},a,this)})),a)}}]),t}(r.a.Component),ye=a(12),ve=a(55),ge=a.n(ve),he=a(56),Ee=a.n(he),be=a(57),Ne=a.n(be),ke=a(58),we=a.n(ke),Oe=(a(106),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(o)))).logout=Object(L.a)(U.a.mark(function e(){var t;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.actions.authLogout,e.next=3,t();case 3:a.props.history.push("/auth/sign-in");case 4:case"end":return e.stop()}},e,this)})),a.renderUserInfo=function(){var e=a.props.reduxState.userInfo,t=F.common.dataNoLoaded([e]);return t[0]===g.common.TYPES_RESULT.ERROR?r.a.createElement("div",{className:"headerSign"},r.a.createElement(ye.a,{className:"item signIn",to:"/auth/sign-in"},"Log in"),r.a.createElement(ye.a,{className:"item signUp",to:"/auth/sign-up"},"Sign up")):t[1]?t[1]:r.a.createElement("div",{className:"userBlock"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"textUser nth1"},"".concat(e.firstName," ").concat(e.lastName)),r.a.createElement("div",{className:"textUser nth2"},e.email)),r.a.createElement("div",{className:"imgUser"},r.a.createElement("span",null,"".concat(e.firstName[0]).concat(e.lastName[0])),r.a.createElement("span",{className:"clickLogout",onClick:a.logout})))},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"leftFix"},r.a.createElement("div",{className:"mobileMenuIcon"},r.a.createElement("img",{className:"icon",src:Ne.a,alt:"menu"})),r.a.createElement("div",{className:"headerLogoIcon"},r.a.createElement("img",{className:"icon",src:we.a,alt:"menu"})),r.a.createElement("div",{className:"menu"},r.a.createElement(ye.a,{className:"item active",to:"/im"},r.a.createElement("img",{src:ge.a,alt:"Here profile icon"}),r.a.createElement("div",{className:"text"},"Profile")),r.a.createElement(ye.a,{className:"item",to:"/marketplace"},r.a.createElement("img",{src:Ee.a,alt:"Here marketplace icon"}),r.a.createElement("div",{className:"text"},"Marketplace")))),this.renderUserInfo()))}}]),t}(r.a.Component)),Ie=(a(107),function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).state={ieoMessageShow:!0},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.atopClass,a=e.children,n=e.settings,o=(e.reduxState,e.actions);return r.a.createElement("div",{className:"".concat(t," internalPage")},n.header&&r.a.createElement(Oe,Object.assign({},this.props,{actions:o})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contentChildren"},a)))}}]),t}(r.a.Component));Ie.defaultProps={settings:{header:!0}};a(108);var Se=function(e){return r.a.createElement("div",{className:"".concat(e.atopClass," blackoutBlock")},e.children)},Fe=a(59),je=a.n(Fe),Te=(a(113),function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.description;return r.a.createElement("div",{className:"helpPoint"},this.props.children,r.a.createElement(je.a,{content:e,className:"helpPointChild"},r.a.createElement("div",{className:"img"})))}}]),t}(r.a.Component)),xe=a(35),Re=a.n(xe),Ce=(a(114),{"VALID-KEY":["VALID","VALID"],"INVALID-KEY":["ERROR","ERROR"],"KEY-IS-NOT-PROCESSED-YET":["WAITING","WAITING"],"INVALID-KEY-(NO-DEPOSITS)":["VALID (NO DATA)","VALID_NO_DEPO"]}),Ae=function(e){var t=e.data.marketplace,a=e.data.history.baseAsset,n=K.profile.getBalanceHistory(e.data.history.balance,a,"balance"),o=e.data.history.usedFollowing||{productName:!1},s=o.productName,c=o.productId,l=o.moderation,i=e.data.history.usedProduct||{name:!1},d=i.name,u=i.productId,m=t?"myproduct":"marketproduct";return r.a.createElement("div",{className:"smallKeys ".concat(e.tsStatusKeys[1])},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"blockItem stock"},{binance:r.a.createElement("img",{src:Re.a,alt:"binance",className:"iconLogo"})}[e.data.stock]),r.a.createElement("div",{className:"blockItem infoData"},r.a.createElement("div",{className:"item name"},e.data.name),r.a.createElement(Te,{description:"This is the current status of your API keys. Valid - the key is ready for work. Error - the key is invalid, click here for troubleshooting guide."},r.a.createElement("div",{className:"item status ".concat(e.tsStatusKeys[1])},e.tsStatusKeys[0]))),r.a.createElement("div",{className:"blockItem history"},t?null:"VALID_NO_DEPO"===e.tsStatusKeys[1]?r.a.createElement("div",{className:"item balance"},"NO TRADE HISTORY"):"ERROR"===e.tsStatusKeys[1]?r.a.createElement("div",{className:"item balance"},"INVALID KEY"):n?r.a.createElement(Te,{description:"This is your account`s current balance displayed in the currently selected base asset."},r.a.createElement("div",{className:"item balance"},"".concat(n.available," (").concat(n.hold,") ").concat(a))):r.a.createElement("div",{className:"item balance"},"Balances processing.."),r.a.createElement(Te,{description:"This status indicates how your keys are currently used (Unused, to create a product or to follow a product)"},r.a.createElement("div",{className:"item usedFollowing ".concat("positiveFollowing")},s&&"approved"===l?[r.a.createElement("div",{className:"spanItem approved"},"Following"),r.a.createElement(ye.a,{to:"/".concat(m,"/").concat(c),className:"spanItem usedProductName"},s)]:d?[r.a.createElement("div",{className:"spanItem"},"Create"),r.a.createElement(ye.a,{to:"/myproduct/".concat(u),className:"spanItem usedProductName"},d)]:s&&"rejected"===l?[r.a.createElement("div",{className:"spanItem rejected"},"Rejected by"),r.a.createElement(ye.a,{to:"/".concat(m,"/").concat(c),className:"spanItem usedProductName"},s)]:s&&"wait"===l?[r.a.createElement("div",{className:"spanItem wait"},"Waiting by"),r.a.createElement(ye.a,{to:"/".concat(m,"/").concat(c),className:"spanItem usedProductName"},s)]:null)))),!t&&r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"iconHover"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"item edit",onClick:e.data.methods.setIndexEditing},"Edit"),r.a.createElement("div",{className:"item remove",onClick:Object(L.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(prompt("Enter account name if you are really going to delete it.","")===e.data.name){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,e.data.methods.remove({keyId:e.data.keyId});case 5:return t.next=7,e.data.methods.reload();case 7:case"end":return t.stop()}},t,this)}))},"Remove"))))},Pe=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).sendRequest=Object(L.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.edit(Object(p.a)({},e.state,{keyId:e.props.data.keyId}));case 2:return t.next=4,e.props.data.methods.clearIndexEditing();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.state={name:"",apiKey:"",secretKey:""},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){this.setState({name:this.props.data.name})}},{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){return[r.a.createElement("div",{className:"parentEditingSmallKeys"},r.a.createElement(Ae,this.props),r.a.createElement("div",{className:"smallKeysEdit"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"Name",placeholder:"Name"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"apiKey"),value:this.state.apiKey,name:"Api key",placeholder:"Api key"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"secretKey"),value:this.state.secretKey,name:"Secret key",placeholder:"Secret key"})),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Save"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.clearIndexEditing},"Cancel")))))]}}]),t}(r.a.Component),Ue=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).sendRequest=Object(L.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.add(Object(p.a)({},e.state,{groupName:e.props.data.groupName}));case 2:return t.next=4,e.props.data.methods.toggleAdding();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.state={name:"",apiKey:"",secretKey:"",stock:"Binance"},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"smallKeysAdd"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{value:"Exchange: ".concat(this.state.stock),name:"stock",placeholder:"Stock"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"Name",placeholder:"Name"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"apiKey"),value:this.state.apiKey,name:"Api key",placeholder:"Api key"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"secretKey"),value:this.state.secretKey,name:"Secret key",placeholder:"Secret key"})),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Add"),r.a.createElement("div",{className:"item cancel",onClick:this.props.data.methods.toggleAdding},"Cancel"))))}}]),t}(r.a.Component),Le=function(e){var t={ACTIVE:Ae,EDITING:Pe,ADDING:Ue}[e.data.status],a=Ce[e.data.valid?"VALID-KEY":"INVALID-KEY"];if(e.data.comment&&"ADDING"!==e.data.status){var n=e.data.comment.toString().toUpperCase();n=(n=n.split(" ")).join("-"),a=Ce[n]||null}return r.a.createElement(t,{data:e.data,tsStatusKeys:a})},De=a(25),Be=a.n(De),Ke=a(27),qe=a.n(Ke),Me={chart:{type:"area",height:150,margin:[0,0,0,0],backgroundColor:null},title:{style:{display:"none"}},subtitle:{text:"",style:{display:"none"}},xAxis:{type:"datetime",allowDecimals:!1,title:{style:{display:"none"}},labels:{enabled:!1}},yAxis:{title:{style:{display:"none"}},labels:{enabled:!1},gridLineColor:"rgba(0,0,0,0)"},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{lineWidth:4,fillOpacity:.5}},tooltip:{pointFormat:"{series.name} {point.y}",shared:!0}},Ve=function(e){return e.income&&e.income.length?r.a.createElement(qe.a,{highcharts:Be.a,options:Object(p.a)({},Me,{series:[{name:"Profit %",data:e.income.map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),color:{linearGradient:[0,200],stops:[[0,"rgba(234, 34, 196, .2)"],[1,"rgb(128, 127, 206)"]]}}]})}):r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...")},_e=(a(115),{true:"VALID",false:"ERROR",wait:"WAITING"}),Ge={marketproduct:function(e){return"/marketproduct/".concat(e)},myproduct:function(e){return"/myproduct/".concat(e)}},Qe=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).state={showingProfitInterval:"all"},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.trader,n=a.firstName,o=a.lastName,s=t.rating,c=t.rating,l=c.value,i=c.baseIncomeHistory,d=t.name,u=t.baseAsset,m=t.followers,p=t.stock,f=t.typelist,y=t.productId,v=K.common.getPercentFromValueRating(Math.abs(l)),g=K.common.getRatingValueShow(l),h=l&&(l>0?"positive":"sadness"),E=!1;"object"===typeof i&&0!==i.length||(E=!0);var b=K.profile.getIncomeForSmallProduct(s),N=b.historyIncome,k=b.weekIncome,w=b.monthIncome,O={all:N,week:k,month:w}[this.state.showingProfitInterval],I=(k[k.length-1]||{value:0}).value.toFixed(2),S=(w[w.length-1]||{value:0}).value.toFixed(2),F=(N[N.length-1]||{value:0}).value.toFixed(2),j={marketproduct:"more",myproduct:"manage"}[f];return r.a.createElement("div",{className:"smallProduct",key:this.props.index},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"avatar"},r.a.createElement("div",{className:"initials"},K.common.getInitials(n,o))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",{className:"curWrap"},r.a.createElement("div",{className:"item nameTrader"},"".concat(n," ").concat(o)),r.a.createElement("div",{className:"item nameProduct"},"".concat(d)))),r.a.createElement("div",{className:"righRatingBlock"},E?r.a.createElement("div",null,"Rating processing.."):[r.a.createElement("div",{className:"curTitle"},r.a.createElement("div",null,"Rating"),r.a.createElement("div",{className:"curValue"},g)),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"filled ".concat(h),style:{width:"".concat(v,"%")}}))])),r.a.createElement("div",{className:"historyInfo"},r.a.createElement("div",{className:"infoExchange"},r.a.createElement("div",{className:"exchangeName"},p),r.a.createElement("div",{className:"baseAsset"},u)),r.a.createElement("div",{className:"historyBlock"},r.a.createElement(Ve,{income:O})),N.length?r.a.createElement("div",{className:"selectShowingTime"},[{point:"week",value:I},{point:"month",value:S},{point:"all",value:F}].map(function(t){return r.a.createElement("div",{className:"item ".concat(t.value>0?"positive":"badpositive"," ").concat(t.point===e.state.showingProfitInterval?"active":""),onClick:function(){return e.setState({showingProfitInterval:t.point})}},t.point.toUpperCase(),": ",t.value,"%")})):null,r.a.createElement("div",{className:"infoContent"},r.a.createElement("div",{className:"item"},"Followers: ",m),r.a.createElement(ye.a,{className:"moreClick",to:Ge[f](y)},j)))),"profile"===this.props.place&&r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"iconHover"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"item",onClick:this.props.data.methods.setIndexEditing},"Change options"),r.a.createElement("div",{className:"item",onClick:Object(L.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(prompt("Enter product name if you are really going to delete it.","")===d){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,e.props.data.methods.remove({productId:y});case 5:return t.next=7,e.props.data.methods.reload();case 7:case"end":return t.stop()}},t,this)}))},"Remove"))))}}]),t}(r.a.Component),Ye=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).sendRequest=Object(L.a)(U.a.mark(function t(){var a;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.data.productId,t.next=3,e.props.data.methods.edit(Object(p.a)({},e.state,{productId:a}));case 3:return t.next=5,e.props.data.methods.clearIndexEditing();case 5:return t.next=7,e.props.data.methods.reload();case 7:case"end":return t.stop()}},t,this)})),e.state={description:"",name:"",baseAsset:""},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=e.description,a=e.name,n=e.baseAsset;this.setState({description:t,name:a,baseAsset:n})}},{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return[r.a.createElement("div",{className:"parentEditingSmallProduct"},r.a.createElement(Qe,this.props),r.a.createElement("div",{className:"smallProductEdit"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"description"),value:this.state.description,name:"description",placeholder:"description"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"name",placeholder:"name"}),r.a.createElement("select",{onChange:function(t){return e.setState({baseAsset:t.target.value})}},r.a.createElement("option",{value:"BTC",selected:"BTC"===this.state.baseAsset},"BTC"),r.a.createElement("option",{value:"USD",selected:"USD"===this.state.baseAsset},"USD"))),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Save"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.clearIndexEditing},"Cancel")))))]}}]),t}(r.a.Component),We=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).sendRequest=Object(L.a)(U.a.mark(function t(){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.data.methods.add(Object(p.a)({},e.state));case 2:return t.next=4,e.props.data.methods.toggleAdding();case 4:return t.next=6,e.props.data.methods.reload();case 6:case"end":return t.stop()}},t,this)})),e.renderSelectKeys=function(){return r.a.createElement("select",{onChange:function(t){return e.setState({keyId:t.target.value})}},r.a.createElement("option",{value:""},"Select exchange account"),e.props.data.keys.map(function(e,t){return r.a.createElement("option",{key:t,value:e.keyId,onChange:function(e){return console.log(e)}},e.name)}))},e.state={description:"",name:"",baseAsset:"BTC",typeId:0,keyId:""},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"setValueInputs",value:function(e,t){this.setState(Object(u.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return this.props.data.keys.length?r.a.createElement("div",{className:"smallProductAdd"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"items inputs"},this.renderSelectKeys(),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"description"),value:this.state.description,name:"description",placeholder:"description"}),r.a.createElement("input",{onChange:this.setValueInputs.bind(this,"name"),value:this.state.name,name:"name",placeholder:"name"}),r.a.createElement("select",{onChange:function(t){return e.setState({baseAsset:t.target.value})}},r.a.createElement("option",{value:"BTC"},"BTC"),r.a.createElement("option",{value:"USD"},"USD")),r.a.createElement("select",{onChange:function(t){return e.setState({typeId:t.target.value})}},r.a.createElement("option",{value:0},"Public"),r.a.createElement("option",{value:1},"Private"))),r.a.createElement("div",{className:"onTopSigns"},r.a.createElement("div",{className:"item save",onClick:this.sendRequest},"Add"),r.a.createElement("div",{className:"item",onClick:this.props.data.methods.toggleAdding},"Cancel")))):r.a.createElement("div",{className:"smallProductAdd"},r.a.createElement("div",{className:"mainBlock"},"You have no spare exchange accounts, please create a new account to create a product, and generate an API key for it."))}}]),t}(r.a.Component),ze=function(e){var t={ACTIVE:Qe,EDITING:Ye,ADDING:We}[e.data.status];return r.a.createElement(t,Object.assign({},e,{tsStatusKeys:"undefined"!==typeof e.data.valid?_e[e.data.valid.toString()]:""}))},He=a(60),Je=a.n(He),Ze=Object(u.a)({chart:{type:"area",backgroundColor:"#3C054D"},title:{text:""},rangeSelector:{selected:1},legend:{enabled:!0,itemStyle:{color:"#b1b1b1",fontWeight:"bold"}},credits:{enabled:!1},plotOptions:{area:{marker:{radius:2}}}},"rangeSelector",{selected:4,inputEnabled:!1,labelStyle:{visibility:"hidden"}}),Xe=function(e){if(!e.income||!e.income.length)return r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...");var t=e.income,a=e.valuePrefix,n=e.valueSuffix,o=t.map(function(e,t){return{name:"".concat(e.name," ").concat(e.marketplace?"(marketplace)":"(personally)"," "),data:(e.income||[]).map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),type:"area",gapSize:5,tooltip:{valueDecimals:2,valuePrefix:a,valueSuffix:n},threshold:null}});t.reduce(function(e,t){return e.push.apply(e,Object(m.a)((t.income||[]).map(function(e){return e.value}))),e},[]);return r.a.createElement(Je.a,{config:Object(p.a)({},Ze,{series:o,yAxis:{title:{enabled:!1},showFirstLabel:!1,showLastLabel:!0}})})},$e=(a(117),pe.ProfileContext.Consumer),et=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderHead=function(){var t=e.props,a=t.reduxState,n=a.keys,o=a.myFollowers,s=a.dashboard.baseAsset,c=t.actions,l=K.profile.getMarketplaceInvestors({keys:n,myFollowers:o}),i=[].concat(Object(m.a)(n),Object(m.a)(l));return r.a.createElement("div",{className:"head"},r.a.createElement("div",{className:"accounts"},r.a.createElement("div",{className:"item"},r.a.createElement(Te,{description:"Select all accounts if you wish to display the charts for all of them simultaneously or select an individual account to study separately."},r.a.createElement("div",{className:"curSmallTitle"},"Select account:")),r.a.createElement("select",{onChange:function(t){return e.setState({selectedAccount:t.target.value})}},r.a.createElement("option",{value:"ALL"},"All accounts"),i.map(function(e,t){return r.a.createElement("option",{key:t,value:e.keyId},e.name," ",e.marketplace?"(marketplace)":"(personally)")}))),r.a.createElement("div",{className:"item"},r.a.createElement(Te,{description:"Choose whether you want to see the change over time in %, or the absolute value in base currency."},r.a.createElement("div",{className:"curSmallTitle"},"Display Mode:")),r.a.createElement("select",{onChange:function(t){return e.setState({selectedMode:t.target.value})}},r.a.createElement("option",{value:"PERCENT",selected:"PERCENT"===e.state.selectedMode},"%"),r.a.createElement("option",{value:"ABSOLUTE",selected:"ABSOLUTE"===e.state.selectedMode},"Absolute Values"))),r.a.createElement("div",{className:"item"},r.a.createElement(Te,{description:"Choose to view only the profit/loss over the reporting periods or the account`s total balance in absolute values."},r.a.createElement("div",{className:"curSmallTitle"},"Type:")),r.a.createElement("select",{onChange:function(t){return e.setState({selectedType:t.target.value})}},r.a.createElement("option",{value:"INCOME",selected:"INCOME"===e.state.selectedType},"PROFIT"),r.a.createElement("option",{value:"BALANCE",selected:"BALANCE"===e.state.selectedType},"BALANCE"))),r.a.createElement("div",{className:"item"},r.a.createElement(Te,{description:"Choose the reporting period to display."},r.a.createElement("div",{className:"curSmallTitle"},"Displayed period:")),r.a.createElement("select",{onChange:function(t){return e.setState({selectedCourDay:t.target.value})}},[{cour:3,name:"Three days"},{cour:7,name:"Week"},{cour:30,name:"Month"},{cour:365,name:"Year"},{cour:1e5,name:"ALL"}].map(function(t,a){return r.a.createElement("option",{key:a,value:t.cour,selected:t.cour===e.state.selectedCourDay},t.name)}))),r.a.createElement("div",{className:"item"},r.a.createElement(Te,{description:"By selecting the base asset, you choose whether to display the balance and/or profits in the base crypto currency of the product or USD."},r.a.createElement("div",{className:"curSmallTitle"},"Select base asset:")),r.a.createElement("select",{onChange:function(e){return c.setBaseAsset(e.target.value)}},["BTC","USD"].map(function(e){return r.a.createElement("option",{value:e,selected:e===s},e)})))))},e.state={selectedAccount:"ALL",selectedCourDay:7,selectedType:"INCOME",selectedMode:"PERCENT"},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"renderChartIncome",value:function(){var e=this.props.reduxState,t=e.keys,a=e.myFollowers,n=e.incomeKeys,o=e.dashboard.baseAsset,s=this.state,c=s.selectedAccount,l=s.selectedCourDay,i=s.selectedMode,d=s.selectedType,u=K.profile.getMarketplaceInvestors({keys:t,myFollowers:a}),p=[].concat(Object(m.a)(t),Object(m.a)(u)),f=K.profile.getSelectedIncomes(p,n,c,l,o,i,d).incomes;return r.a.createElement("div",{className:"incomeParent"},r.a.createElement(Xe,{income:f,valueSuffix:"".concat({PERCENT:"% in ".concat(o),ABSOLUTE:o}[i])}))}},{key:"render",value:function(){var e=this.props.reduxState,t=e.incomeKeys,a=e.keys,n=e.dashboard.baseAsset,o=F.common.dataNoLoaded([t,a]);if(o[1])return o[1];var s=this.state,c=s.selectedMode,l=s.selectedType,i={INCOME:{PERCENT:"Account profit in ".concat(n,", %:"),ABSOLUTE:"Account profit in ".concat(n,":")},BALANCE:{PERCENT:"Account history balances in ".concat(n,", %:"),ABSOLUTE:"Account history balances in ".concat(n,":")}}[l][c];return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"curTitle"},"Accounts Overview"),this.renderHead(),r.a.createElement("div",{className:"curSmallTitle"},i),this.renderChartIncome())}}]),t}(r.a.Component),tt=function(e){var t=e.reduxState,a=t.keys,n=t.myProducts,o=t.myFollowings,s=[a,n,K.profile.getConnectedProducts({myFollowings:o})],c=F.common.dataNoLoaded(s);if(c[1])return c[1];var l=s.reduce(function(e,t){return e+D(t)},0);return l>1?r.a.createElement(et,e):function(e,t){return D(e[0])?D(e[1]&&!D(2))?r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji"}),r.a.createElement("div",{className:"text"},"Error")):r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji twoStep"}),r.a.createElement("div",{className:"text"},r.a.createElement("div",null,"Thank you for adding your account."),r.a.createElement("div",null,"Now you can create a product or connect to one of the managers."))):r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"emoji welcome"}),r.a.createElement("div",{className:"text"},r.a.createElement("div",null,"We welcome you."),r.a.createElement("div",null,"Please add your account from the exchange.")))}(s)},at=function(e){return r.a.createElement($e,null,function(t){var a=t.actions;return r.a.createElement("div",{className:"smallDashboard"},r.a.createElement("div",{className:"contentBox"},r.a.createElement(tt,{reduxState:e.reduxState,actions:a})))})},nt=a(23),rt=(a(118),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).state={adding:!1,editingIndex:!1},a.setIndexEditing=function(e){a.setState({editingIndex:e,adding:!1})},a.renderListKeys=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e]);if(t[1])return t[1];var n=e.filter(a.props.filter||function(){return!0}).map(function(e,t){return a.props.blockRender(Object(p.a)({},e,{typelist:a.props.typelist,status:e[a.props.uniqProperty]===a.state.editingIndex?"EDITING":"ACTIVE",methods:{setIndexEditing:a.setIndexEditing.bind(Object(nt.a)(Object(nt.a)(a)),e[a.props.uniqProperty]),clearIndexEditing:a.setIndexEditing.bind(Object(nt.a)(Object(nt.a)(a)),!1),remove:a.props.methods.remove,edit:a.props.methods.edit,reload:a.props.methods.reload}}),t)});return[a.renderAddingKeys(),n&&n.length?n:"This list is still empty."]},a.renderListProducts=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e]);if(t[1])return t[1];var n=e.filter(a.props.filter||function(){return!0}).map(function(e,t){return a.props.blockRender(Object(p.a)({},e,{typelist:a.props.typelist,status:e[a.props.uniqProperty]===a.state.editingIndex?"EDITING":"ACTIVE",methods:{setIndexEditing:a.setIndexEditing.bind(Object(nt.a)(Object(nt.a)(a)),e[a.props.uniqProperty]),clearIndexEditing:a.setIndexEditing.bind(Object(nt.a)(Object(nt.a)(a)),!1),remove:a.props.methods.remove,edit:a.props.methods.edit,reload:a.props.methods.reload}}),t)});return[a.renderAddingProduct(),n&&n.length?n:"This list is still empty."]},a.toggleAdding=function(){return a.setState({adding:!a.state.adding,editingIndex:!1})},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"renderAddingKeys",value:function(){if(!this.state.adding)return[];var e=this.props.blockRender({groupName:this.props.groupName,status:"ADDING",methods:{add:this.props.methods.add,toggleAdding:this.toggleAdding,reload:this.props.methods.reload}});return r.a.createElement("div",{class:"addingParent"},e)}},{key:"renderAddingProduct",value:function(){if(!this.state.adding)return[];var e=this.props.blockRender({groupName:this.props.groupName,status:"ADDING",keys:this.props.keys,methods:{add:this.props.methods.add,toggleAdding:this.toggleAdding,reload:this.props.methods.reload}});return r.a.createElement("div",{class:"addingParent"},e)}},{key:"render",value:function(){var e=this.props,t=e.atopClass,a=e.helpTexts;return r.a.createElement("div",{className:"listBlock ".concat(t||"")},r.a.createElement("div",{className:"head"},this.props.texts.title&&(a&&a.title?r.a.createElement(Te,{description:a.title},r.a.createElement("div",{className:"title"},this.props.texts.title)):r.a.createElement("div",{className:"title"},this.props.texts.title)),this.props.texts.addButtonText&&(a&&a.addButton?r.a.createElement(Te,{description:a.addButton},r.a.createElement("div",{className:"addButton",onClick:this.toggleAdding},this.props.texts.addButtonText)):r.a.createElement("div",{className:"addButton",onClick:this.toggleAdding},this.props.texts.addButtonText))),r.a.createElement("div",{className:"list"},{renderListKeys:this.renderListKeys,renderListProducts:this.renderListProducts}[this.props.renderFn]()))}}]),t}(r.a.Component)),ot=(a(119),pe.ProfileContext.Consumer),st=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(o)))).listBlocksForm={keys:function(e,t){return r.a.createElement(Le,{key:t,data:e})},product:function(e,t){return r.a.createElement(ze,{key:t,data:e,place:"profile"})}},a.getDataForLists=function(){var e=a.props.reduxState;return{stateKeys:K.profile.getDataForSmallKeys(e).stateKeys,reduxState:e,keysForAddingProduct:K.profile.getFreeKeys(e,function(e){return"my"===e.groupName||!e.groupName}).keys}},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.getDataForLists(),a=t.stateKeys,n=t.reduxState,o=t.keysForAddingProduct;return r.a.createElement(ot,null,function(t){var s=t.actions;return r.a.createElement(Ie,Object.assign({},e.props,{actions:s},{atopClass:"profile"}),r.a.createElement(Se,{atopClass:"dashboard"},r.a.createElement(at,{reduxState:n})),r.a.createElement(Se,{atopClass:"keys"},r.a.createElement(rt,{uniqProperty:"keyId",reduxState:a,blockRender:e.listBlocksForm.keys,filter:function(e){return!e.groupName||"my"===e.groupName},groupName:"my",renderFn:"renderListKeys",helpTexts:{title:"This is the list of all your exchange accounts and API keys associated with them.",addButton:"Click here to connect an exchange account to your CINDX account."},methods:{reload:s.getKeys,add:s.addKeys,remove:s.removeKeys,edit:s.editKeys},texts:{title:"My keys",addButtonText:"Add exchange account"}})),r.a.createElement(Se,{atopClass:"keys"},r.a.createElement(rt,{uniqProperty:"keyId",reduxState:a,blockRender:e.listBlocksForm.keys,filter:function(e){return"investor"===e.groupName},groupName:"investor",renderFn:"renderListKeys",methods:{reload:s.getKeys,add:s.addKeys,remove:s.removeKeys,edit:s.editKeys},texts:{title:"My investors",addButtonText:"Add exchange account"}})),r.a.createElement(Se,{atopClass:"products"},r.a.createElement(rt,{uniqProperty:"productId",reduxState:n.myProducts,keys:o,blockRender:e.listBlocksForm.product,renderFn:"renderListProducts",typelist:"myproduct",methods:{reload:s.getProducts,add:s.addProduct,remove:s.removeProduct,edit:s.editProduct},texts:{title:"My products",addButtonText:"Create product"}})))})}}]),t}(r.a.Component),ct=pe.ProfileContext.Provider,lt=K.common.logger("profile"),it=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).call(this,{namePage:"profile"}))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return lt({body:{reduxState:this.props.reduxState}}),r.a.createElement(ct,{value:{actions:this.actions}},r.a.createElement(st,this.props))}}]),t}(fe),dt=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.profile),state:e}})(it),ut=pe.AuthContext.Consumer,mt=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).state={email:"",password:"",error:""},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"changeValueInputs",value:function(e,t){var a;this.setState((a={},Object(u.a)(a,e,t.target.value),Object(u.a)(a,"error",""),a))}},{key:"submitSingIn",value:function(e){return this.state.email?this.state.password?void e({email:this.state.email,password:this.state.password}):this.setState({error:"Fill in password"}):this.setState({error:"Fill in email"})}},{key:"render",value:function(){var e=this,t=this.props.reduxState.loginRes,a=t===g.common.TYPES_RESULT.ERROR?"Incorrect login or password":t===g.common.TYPES_RESULT.LOADING?"Loading..":null;return r.a.createElement(ut,null,function(t){var n=t.actions;return r.a.createElement("div",{className:"signInForm"},r.a.createElement("div",{className:"title"},"Sign In"),r.a.createElement("div",{className:"error-block"},e.state.error||a),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("input",{placeholder:"Email",value:e.state.email,onChange:e.changeValueInputs.bind(e,"email")}),r.a.createElement("input",{type:"password",placeholder:"Password",value:e.state.password,onChange:e.changeValueInputs.bind(e,"password")})),r.a.createElement("button",{className:"button-wrap",onClick:e.submitSingIn.bind(e,n.authLogin)},"Sign In"),r.a.createElement("div",{className:"transitionAccount"},"You do not have an account? ",r.a.createElement(ye.a,{className:"span",to:"/auth/sign-up"},"Sign Up")))})}}]),t}(r.a.Component),pt=pe.AuthContext.Consumer,ft=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderMessage=function(t){var a=t.actions,n=e.state.error,o=e.props.reduxState.authRegistration_res,s=o===g.common.TYPES_RESULT.ERROR?["ERROR","Request failed, try again."]:o===g.common.TYPES_RESULT.LOADING?["LOADING","Loading..."]:"OK"===o?["SUCCESS","You are registered, you can log in."]:["ERROR",o];return"OK"===o&&setTimeout(function(){a.clearAnyProperty({keyState:"authRegistration_res",value:-1}),e.props.history.push("/auth/sign-in")},3e3),n||!s?r.a.createElement("div",{className:"error-block ERROR"},n):r.a.createElement("div",{className:"error-block ".concat(s[0])},e.state.error||s[1])},e.state={email:"",password:"",firstName:"",lastName:"",error:""},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"changeValueInputs",value:function(e,t){var a;this.setState((a={},Object(u.a)(a,e,t.target.value),Object(u.a)(a,"error",""),a))}},{key:"submitSingIn",value:function(e){return this.state.firstName?this.state.lastName?this.state.email?this.state.password?(this.setState({error:null}),void e({email:this.state.email,password:this.state.password,firstName:this.state.firstName,lastName:this.state.lastName})):this.setState({error:"Fill in password"}):this.setState({error:"Fill in email"}):this.setState({error:"Fill in Last name"}):this.setState({error:"Fill in Name"})}},{key:"render",value:function(){var e=this;return r.a.createElement(pt,null,function(t){var a=t.actions;return r.a.createElement("div",{className:"signUpForm"},r.a.createElement("div",{className:"title"},"Sign Up"),e.renderMessage({actions:a}),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("input",{placeholder:"Name",value:e.state.firstName,onChange:e.changeValueInputs.bind(e,"firstName")}),r.a.createElement("input",{placeholder:"Last name",value:e.state.lastName,onChange:e.changeValueInputs.bind(e,"lastName")}),r.a.createElement("input",{placeholder:"Email",value:e.state.email,onChange:e.changeValueInputs.bind(e,"email")}),r.a.createElement("input",{type:"password",placeholder:"Password",value:e.state.password,onChange:e.changeValueInputs.bind(e,"password")})),r.a.createElement("button",{className:"button-wrap",onClick:e.submitSingIn.bind(e,a.authRegistration)},"Sign Up"),r.a.createElement("div",{className:"transitionAccount"},"Do you have an account? ",r.a.createElement(ye.a,{className:"span",to:"/auth/sign-in"},"Sign In")))})}}]),t}(r.a.Component),yt=(a(120),a(121),function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this;return((this.props.reduxState||{}).loginRes||{}).accessToken&&this.props.history.push("/im"),r.a.createElement("div",{className:"registration-page"},r.a.createElement("div",{className:"form-column"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"form"},r.a.createElement(ce.Route,{path:"/auth/sign-in",render:function(){return r.a.createElement(mt,e.props)}}),r.a.createElement(ce.Route,{path:"/auth/sign-up",render:function(){return r.a.createElement(ft,e.props)}})),r.a.createElement("div",{className:"disclaimer"},"\xa9 2019 Cindx | ",r.a.createElement("span",null,"Privacy Policy"),r.a.createElement("span",null,"Terms of Service"))),r.a.createElement("div",{className:"picture-column"}))}}]),t}(r.a.Component)),vt=pe.AuthContext.Provider,gt=K.common.logger("auth"),ht=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).call(this,{namePage:"auth"}))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return gt({body:{reduxState:this.props.reduxState}}),r.a.createElement(vt,{value:{actions:this.actions}},r.a.createElement(yt,this.props))}}]),t}(fe),Et=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.auth,e.common),state:e}})(ht),bt=a(14),Nt=(a(122),function(e){var t=e.reduxState,a=t.moderation,n=t.nameFollower;return r.a.createElement("div",{className:"requisitionComponent rejected"},r.a.createElement("div",{className:"text"},"You canceled an application from ".concat(n,", moderation: ").concat(a,".")))}),kt=function(e){return"".concat((e.BTC.available+e.BTC.hold).toFixed(5)," BTC | ").concat((e.USD.available+e.USD.hold).toFixed(2)," USD")},wt=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderBalances=function(){var t=e.props,a=t.balances,n=t.reduxState._id,o=F.common.dataNoLoaded([a]);if(o[1])return[o[1]];var s=("object"===typeof a&&a||[]).find(function(e){return e.followingId===n});if(!s||!Object.keys(s).length)return r.a.createElement("div",null,r.a.createElement("div",null,"Error, trim balances."));var c=s.followerBalance,l=s.followerTotal,i=s.leaderBalance,d=s.leaderTotal,u={leader:[],follower:[]};return Object.entries(Object(p.a)({},i,c)).filter(function(e){var t=Object(bt.a)(e,2),a=(t[0],Object(bt.a)(t[1],2)),n=a[0],r=a[1];return n>0||r>0}).forEach(function(e){var t=Object(bt.a)(e,1)[0],a=i[t]||[0,0],n=Object(bt.a)(a,2),o=n[0],s=n[1],l=c[t]||[0,0],d=Object(bt.a)(l,2),m=d[0],p=d[1];u.leader.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},o),r.a.createElement("div",{className:"curItemCoin"},s),r.a.createElement("div",{className:"curItemCoin"},o+s))),u.follower.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},m),r.a.createElement("div",{className:"curItemCoin"},p),r.a.createElement("div",{className:"curItemCoin"},m+p)))}),r.a.createElement("div",{className:"balancesBlock"},r.a.createElement("div",{className:"betweenItem leaderMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.leader),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Leader"),r.a.createElement("div",{className:"curValue"},kt(d)))),r.a.createElement("div",{className:"betweenItem followerMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.follower),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Follower"),r.a.createElement("div",{className:"curValue"},kt(l)))))},e.state={isShowBalances:!1},e.timers=[],e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.reduxState._id;this.props.methods.getBalanceByFollowing({followingId:e})}},{key:"componentWillUnmount",value:function(){this.timers.forEach(function(e){return clearInterval(e)}),this.timers=[]}},{key:"render",value:function(){var e=this,t=this.props,a=t.reduxState,n=a.nameFollower,o=(a.moderation,a.createdAt),s=(a.follower,a.frozen,a._id),c=a.quality,l=(a.mode,t.balances),i=(("object"===typeof l&&l||[]).find(function(e){return e.followingId===s})||{followerTotal:{BTC:{available:0,hold:0},USD:{available:0,hold:0}}}).followerTotal,d=T.a.utc(o).toISOString().slice(0,10),u=(c>0?c:0).toFixed(2);return r.a.createElement("div",{className:"requisitionComponent"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"headProperty"},r.a.createElement("div",{className:"item name"},"Name"),r.a.createElement("div",{className:"item totalBalance"},"Total Ballance"),r.a.createElement("div",{className:"item synchronization"},"Synchronization quality"),r.a.createElement("div",{className:"item date"},"Date of requisition")),r.a.createElement("div",{className:"centerValue"},r.a.createElement("div",{className:"item name"},n),r.a.createElement("div",{className:"item totalBalance"},kt(i)),r.a.createElement("div",{className:"item synchronization"},r.a.createElement("div",{className:"justValue"},u,"%"),r.a.createElement("div",{className:"ranger"},r.a.createElement("div",{className:"filled ".concat(u<70?"badly":"good"),style:{flex:u/100}}))),r.a.createElement("div",{className:"item date"},d)),r.a.createElement("div",{className:"clickButtons"},r.a.createElement("div",{className:"item compare",onClick:function(){return e.setState({isShowBalances:!e.state.isShowBalances})}},"Compare balance"),r.a.createElement("div",{className:"rigthBtns"},r.a.createElement("div",{className:"item approve",onClick:this.props.methods.sendApproveFollowing.bind(this,{followingId:s})},"Approve"),r.a.createElement("div",{className:"item remove",onClick:this.props.methods.sendRejectFollowing.bind(this,{followingId:s})},"Remove")))),this.state.isShowBalances&&this.renderBalances())}}]),t}(r.a.Component),Ot=function(e){var t=e.status,a={wait:wt,reject:Nt}[t];return r.a.createElement(a,e)},It=(a(123),function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).onChangeStatus=function(){var t=Object(L.a)(U.a.mark(function t(a){var n,r,o,s,c,l;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.reduxState._id,r=e.props.methods,o=r.setFreeze,s=r.setUnFreeze,c=r.setFollowingMode,"frozen"!==(l=a.target.value)){t.next=7;break}return t.next=6,o({followingId:n});case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,c({followingId:n,mode:l});case 9:return t.next=11,s({followingId:n});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getTotalValue=function(e){return"".concat((e.BTC.available+e.BTC.hold).toFixed(5)," BTC | ").concat((e.USD.available+e.USD.hold).toFixed(2)," USD")},e.renderBalances=function(){var t=e.props,a=t.balances,n=t.reduxState._id,o=F.common.dataNoLoaded([a]);if(o[1])return[o[1]];var s=("object"===typeof a&&a||[]).find(function(e){return e.followingId===n});if(!s||!Object.keys(s).length)return r.a.createElement("div",null,r.a.createElement("div",null,"Error, trim balances."));var c=s.followerBalance,l=s.followerTotal,i=s.leaderBalance,d=s.leaderTotal,u={leader:[],follower:[]};return Object.entries(Object(p.a)({},i,c)).filter(function(e){var t=Object(bt.a)(e,2),a=t[0],n=Object(bt.a)(t[1],2),r=(n[0],n[1],i[a]||[0,0]),o=Object(bt.a)(r,2),s=o[0],l=o[1],d=c[a]||[0,0],u=Object(bt.a)(d,2);return[s,l,u[0],u[1]].some(function(e){return e>0})}).forEach(function(e){var t=Object(bt.a)(e,1)[0],a=i[t]||[0,0],n=Object(bt.a)(a,2),o=n[0],s=n[1],l=c[t]||[0,0],d=Object(bt.a)(l,2),m=d[0],p=d[1];u.leader.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},o),r.a.createElement("div",{className:"curItemCoin"},s),r.a.createElement("div",{className:"curItemCoin"},o+s))),u.follower.push(r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"curItemCoin"},t),r.a.createElement("div",{className:"curItemCoin"},m),r.a.createElement("div",{className:"curItemCoin"},p),r.a.createElement("div",{className:"curItemCoin"},m+p)))}),r.a.createElement("div",{className:"balancesBlock"},r.a.createElement("div",{className:"betweenItem leaderMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.leader),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Leader"),r.a.createElement("div",{className:"curValue"},e.getTotalValue(d)))),r.a.createElement("div",{className:"betweenItem followerMainBlock"},r.a.createElement("div",{className:"balancesList"},r.a.createElement("div",{className:"item headItem"},r.a.createElement("div",{className:"curItemCoin"},"Symbol"),r.a.createElement("div",{className:"curItemCoin"},"Available"),r.a.createElement("div",{className:"curItemCoin"},"In Order"),r.a.createElement("div",{className:"curItemCoin"},"Total")),u.follower),r.a.createElement("div",{className:"totalBalances"},r.a.createElement("div",{className:"curPropery"},"Follower"),r.a.createElement("div",{className:"curValue"},e.getTotalValue(l)))))},e.state={isShowBalances:!1},e.timers=[],e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.reduxState._id;this.timers.getFollowersWithBalances=Object(L.a)(U.a.mark(function a(){return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.methods.getBalanceByFollowing({followingId:t});case 2:return a.next=4,e.props.methods.getFollowers({followingId:t});case 4:setTimeout(e.timers.getFollowersWithBalances,g.myproduct.settings.intervalUpdateFollowersSec||5e3);case 5:case"end":return a.stop()}},a,this)})),this.timers.getFollowersWithBalances()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this.timers).forEach(function(t){return e.timers[t]=function(){}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.reduxState,n=a.nameFollower,o=(a.moderation,a.createdAt),s=(a.follower,a.frozen),c=a._id,l=a.quality,i=a.mode,d=t.balances,u=(("object"===typeof d&&d||[]).find(function(e){return e.followingId===c})||{followerTotal:{BTC:{available:0,hold:0},USD:{available:0,hold:0}}}).followerTotal,m=s?"frozen":i,p=T.a.utc(o).toISOString().slice(0,10),f=(l>0?l:0).toFixed(2);return r.a.createElement("div",{className:"investorComponent"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"headProperty"},r.a.createElement("div",{className:"item name"},"Name"),r.a.createElement("div",{className:"item status"},"Status"),r.a.createElement("div",{className:"item totalBalance"},"Total Balance"),r.a.createElement("div",{className:"item synchronization"},"Synchronization quality"),r.a.createElement("div",{className:"item date"},"Date of accseccion")),r.a.createElement("div",{className:"centerValue"},r.a.createElement("div",{className:"item name"},n),r.a.createElement("div",{className:"item status"},r.a.createElement("select",{onChange:this.onChangeStatus,value:m},r.a.createElement("option",{value:"none",selected:"none"===m},"..."),r.a.createElement("option",{value:"copy",selected:"copy"===m},"SYNC"),r.a.createElement("option",{value:"rebalance",selected:"rebalance"===m},"REBALANCE"),r.a.createElement("option",{value:"frozen",selected:"frozen"===m},"FROZEN"))),r.a.createElement("div",{className:"item totalBalance"},this.getTotalValue(u)),r.a.createElement("div",{className:"item synchronization"},r.a.createElement("div",{className:"justValue"},f,"%"),r.a.createElement("div",{className:"ranger"},r.a.createElement("div",{className:"filled ".concat(f<70?"badly":"good"),style:{flex:f/100}}))),r.a.createElement("div",{className:"item date"},p)),r.a.createElement("div",{className:"clickButtons"},r.a.createElement("div",{className:"item compare",onClick:function(){return e.setState({isShowBalances:!e.state.isShowBalances})}},"Compare balance"),r.a.createElement("div",{className:"item unsubscribe",onClick:this.props.methods.sendRejectFollowing.bind(this,{followingId:c})},"Unsubscribe"))),this.state.isShowBalances&&this.renderBalances())}}]),t}(r.a.Component)),St=function(e){return r.a.createElement(It,e)},Ft={chart:{type:"area",height:250,margin:[0,0,0,0],backgroundColor:null},title:{style:{display:"none"}},subtitle:{text:"",style:{display:"none"}},xAxis:{type:"datetime",allowDecimals:!1,title:{style:{display:"none"}},labels:{enabled:!1}},yAxis:{title:{style:{display:"none"}},labels:{enabled:!1},gridLineColor:"rgba(0,0,0,0)"},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{lineWidth:4,fillOpacity:.5}},tooltip:{pointFormat:"{series.name} {point.y}",shared:!0}},jt=function(e){return e.income&&e.income.length?r.a.createElement(qe.a,{highcharts:Be.a,options:Object(p.a)({},Ft,{series:[{name:"Profit %",data:e.income.map(function(e){return[new Date(e.timestamp).getTime(),parseFloat(e.value.toFixed(2))]}),color:{linearGradient:[0,200],stops:[[0,"rgb(126,63,255)"],[1,"rgb(255,117,244)"]]}}]})}):r.a.createElement("div",{className:"noLoadedProfit"},"Product processing...")},Tt=a(61);a.n(Tt)()(Be.a);var xt={chart:{polar:!0,type:"area",width:300,height:300,margin:[0,0,0,0],backgroundColor:null},title:{text:null},pane:{size:"40%"},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,title:{text:"",align:"high"},labels:{enabled:!1},align:"center"},tooltip:{shared:!1},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{fillColor:{linearGradient:[0,200],stops:[[0,"rgba(234, 34, 196, .2)"],[1,"rgb(128, 127, 206)"]]}}}},Rt=function(e){if(!e.ratingValues)return r.a.createElement("div",null,"processing...");var t={MaxDrawdown:[0,5,15,45,80,100],DmaxDD:[0,5,15,45,80,100],IncomeAverage:[-100,1e-5,.005,.09,.5,1.5],Volatility:[0,.01,.1,.5,1,2.5],Income:[0,5,15,45,80,100]},a=Object.keys(e.ratingValues).reduce(function(t,a){return t[a]=(100*e.ratingValues[a]).toFixed(2),t},{}),n=Object.keys(a).map(function(e,n,r){return 10*function(e,a){return t[e].reduce(function(e,t,n,r){return!1===e?a>=t&&a<=(r[n+1]||1/0)&&n:e},!1)||0}(e,a[e])+10});return r.a.createElement(qe.a,{highcharts:Be.a,options:Object(p.a)({},xt,{xAxis:{categories:Object.keys(a),tickmarkPlacement:"on",lineWidth:0},series:[{data:n,pointPlacement:"on"}]})})},Ct=(a(124),function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.reduxState.infoMarketProduct,t=e.trader,a=t.firstName,n=t.lastName,o=e.rating,s=e.rating,c=s.value,l=s.incomeAverage,i=s.maxDrawdown,d=s.maxRecoveryTimeShare,u=s.nTicks,m=s.volatilityState,p=s.baseIncomeHistory,f=e.name,y=e.since,v=e.baseAsset,g=e.description,h=e.followers,E=e.stock,b=!1;"object"===typeof p&&0!==p.length||(b=!0);var N=K.common.getPercentFromValueRating(Math.abs(c)),k=K.common.getRatingValueShow(c),w=c&&(c>0?"positive":"sadness"),O=p&&p.length&&p[p.length-1].value/p[0].value-1,I=p&&p.length&&{Volatility:(10*function(){var e=Math.max(1,u-2);return(m.sqrSum-Math.pow(m.linSum,2)/e)/e}()).toFixed(2),IncomeAverage:(l<0?0:l).toFixed(2),MaxDrawdown:(100*i).toFixed(2),DmaxDD:(100*d).toFixed(2),Income:(O<0?0:O).toFixed(2)},S=T.a.utc(y).toISOString().slice(0,10),F=K.profile.getIncomeForSmallProduct(o).historyIncome;return r.a.createElement("div",{className:"fullProduct"},r.a.createElement("div",{className:"mainBlock"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"avatar"},r.a.createElement("div",{className:"initials"},K.common.getInitials(a,n))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",{className:"curWrap"},r.a.createElement("div",{className:"nameTrader"},"".concat(a," ").concat(n)),r.a.createElement("div",{className:"rating"},b?r.a.createElement("div",null,"Rating processing.."):[r.a.createElement("div",{className:"curTitle"},"Rating ",k,": "),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"filled ".concat(w),style:{width:"".concat(N,"%")}}))])))),r.a.createElement("div",{className:"historyInfo"},r.a.createElement("div",{className:"infoExchange"},r.a.createElement("div",{className:"exchangeName"},E),r.a.createElement("div",{className:"baseAsset"},v)),r.a.createElement("div",{className:"historyBlock"},r.a.createElement(jt,{income:F})),r.a.createElement("div",{className:"infoContent"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Product name: "),r.a.createElement("div",{className:"value"},f)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Number of investors: "),r.a.createElement("div",{className:"value"},h)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Created on: "),r.a.createElement("div",{className:"value"},S)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Product description: "),r.a.createElement("div",{className:"value"},g))),!b&&r.a.createElement("div",{className:"ratingInfo"},r.a.createElement("div",{className:"ratingValuesChart"},r.a.createElement(Rt,{ratingValues:I})),r.a.createElement("div",{className:"ratingValuesText"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Volatility: "),r.a.createElement("div",{className:"value"},I.Volatility)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"IncomeAverage: "),r.a.createElement("div",{className:"value"},I.IncomeAverage)),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"MaxDrawdown: "),r.a.createElement("div",{className:"value"},I.MaxDrawdown,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"DmaxDD: "),r.a.createElement("div",{className:"value"},I.DmaxDD,"%")),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"property"},"Income: "),r.a.createElement("div",{className:"value"},I.Income,"%")))))))}}]),t}(r.a.Component)),At=(a(125),function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderListKeys=function(t){return e.props.noselect?r.a.createElement("ul",{className:"listCanceled"},t.map(function(e,t){return r.a.createElement("li",{value:e.keyId,key:t},e.name)})):r.a.createElement("select",{onChange:function(t){return e.setState({selectedFollowKeyId:t.target.value})},value:e.state.selectedFollowKeyId},r.a.createElement("option",{value:!1},"No selected"),t.map(function(e,t){return r.a.createElement("option",{value:e.keyId,key:t},e.name)}))},e.sendFollowing=Object(L.a)(U.a.mark(function t(){var a,n,r,o,s,c,l;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.selectedFollowKeyId,n=e.props,r=n.methodFollow,o=n.productId,s=n.keys,c=s.find(function(e){return e.keyId===a}),l=0,c.tsFollowing&&(l=c.tsFollowing.followingId),a){t.next=7;break}return t.abrupt("return",!1);case 7:r({selfKeyId:a,productId:o,followingId:l});case 8:case"end":return t.stop()}},t,this)})),e.state={selectedFollowKeyId:!1},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.atopClass,a=e.title,n=e.keys,o=e.buttonText;return n.length?r.a.createElement("div",{className:"listItem ".concat(t)},r.a.createElement("div",{className:"curTitle"},a),this.renderListKeys(n),o&&r.a.createElement("div",{className:"btnSend",onClick:this.sendFollowing.bind(this)},o)):null}}]),t}(r.a.Component)),Pt=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderFollowForm=function(){var t=e.props,a=t.reduxState,n=t.methods,o=(t.page,a.keys),s=a.myFollowings,c=F.common.dataNoLoaded([o,s]);if(c[1])return c[1];var l=a.infoMarketProduct.productId,i=K.marketproduct.getInfoKeysFollow({reduxState:a,productId:l}),d=i.keysFreeForFollow,u=i.keysRejectedFollowThisProduct,m=i.keysRejectedFollow,p=i.keysForUnfollowThisProduct,f=i.keysWaitFromThisProduct;return r.a.createElement("div",{className:"followForm"},r.a.createElement("div",{className:"typesKeys"},r.a.createElement(At,{keys:d,title:"Completely free accounts, you can connect!",atopClass:"freeFollow",methodFollow:n.sendFollow,productId:l,buttonText:"Start following"}),r.a.createElement(At,{keys:m,title:"Your applications for these accounts have been canceled, so you can select this manager.",atopClass:"rejectedFollow",methodFollow:n.sendFollow,productId:l,buttonText:"Start following"}),r.a.createElement(At,{keys:u,title:"The manager has rejected your application, you may resend it.",atopClass:"rejectedFollowThisProduct",methodFollow:n.reapplyFollowing,productId:l,buttonText:"Resend following"}),r.a.createElement(At,{keys:p,title:"Want to unsubscribe from this product?",atopClass:"unfollowThisProduct",methodFollow:n.sendUnFollow,productId:l,buttonText:"Stop following"}),r.a.createElement(At,{keys:f,title:"Your applications are processed for these accounts by this manager.",atopClass:"waitThisProduct",methodFollow:n.sendFollow,productId:l,noselect:!0})))},e.state={selectedFollowKeyId:!1},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return this.renderFollowForm()}}]),t}(r.a.Component),Ut=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).renderTradeLeader=function(e,t,a,n){return r.a.createElement("div",{className:"item leaderTrade ".concat(t?"hasLogTrades":"noHasLogTrades"),key:"".concat(e.orderId,"-").concat(e.symbol)},r.a.createElement("div",{className:"boxOfTrade clickMore"},r.a.createElement("div",{className:"curClick",onClick:a})),r.a.createElement("div",{className:"boxOfTrade relativitySuccess success-".concat(n&&n[0]===n[1])},r.a.createElement("span",{className:"curValue"},n?"".concat(n[0],"/").concat(n[1]):"1/1")),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},e.symbol),r.a.createElement("div",{className:"boxOfTrade type"},e.type),r.a.createElement("div",{className:"boxOfTrade side ".concat(e.side)},e.side),r.a.createElement("div",{className:"boxOfTrade price"},e.price),r.a.createElement("div",{className:"boxOfTrade quantity"},e.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(e.status)},g.myproduct.statusesShowing[e.status]||e.status),r.a.createElement("div",{className:"boxOfTrade time"},T.a.utc(e.createdAt).toISOString().slice(11,19)))},e.renderTradeFollower=function(e){return r.a.createElement("div",{className:"item followerTrade",key:"".concat(e.orderId,"-").concat(e.symbol)},r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"10%"}}),r.a.createElement("div",{className:"boxOfTrade name"},e.name),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade line"},r.a.createElement("div",{className:"tsLine"})),r.a.createElement("div",{className:"boxOfTrade price"},e.price),r.a.createElement("div",{className:"boxOfTrade quantity"},e.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(e.status)},g.myproduct.statusesShowing[e.status]||e.status),r.a.createElement("div",{className:"boxOfTrade time"},T.a.utc(e.createdAt).toISOString().slice(11,19)))},e.drowdownContent=function(){var t=e.state.displayedFollowers;e.setState({displayedFollowers:!t})},e.state={displayedFollowers:!1},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.curLeaderOrder,n=t.hasLogTrades,o=t.relativitySuccess,s=t.tsFollowersTrades,c=this.state.displayedFollowers;return r.a.createElement("div",{className:"curTradeParent ".concat(c?"opened":null)},this.renderTradeLeader(a,n,this.drowdownContent,o),n&&r.a.createElement("div",{className:"tsFollowersTrades"},s.map(function(t){return e.renderTradeFollower(t)})))}}]),t}(r.a.Component),Lt=(a(126),function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).startRequests=function(){var t=e.props,a=t.reduxState.myFollowers,n=t.paramsProduct,r=t.actions,o=K.myproduct.getRequisitionsProduct({productId:n.productId,myFollowers:a}).approvedFollowings;e.timers.getFollowingsOrders=Object(L.a)(U.a.mark(function t(){var a,n;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={},n=function(){var t=Object(L.a)(U.a.mark(function t(){var s;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.find(function(e){return!a[e._id]})){t.next=3;break}return t.abrupt("return",setTimeout(e.timers.getFollowingsOrders,g.myproduct.settings.intervalUpdateFollowersSec||15e3));case 3:return t.next=5,r.getOrdersByFollowing({followingId:s._id});case 5:a[s._id]="used",n();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),o.length&&n();case 3:case"end":return t.stop()}},t,this)})),e.timers.getFollowingsOrders()},e.stopRequests=function(){Object.keys(e.timers).forEach(function(t){return e.timers[t]=function(){}})},e.renderGroupOrdersList=function(){var t=e.props,a=t.reduxState,n=a.ordersFollowings,o=a.myFollowers,s=a.keys,c=t.paramsProduct,l=t.filter,i=l.date,d=l.follower,u=F.common.dataNoLoaded([s,o,n]);if(u[1])return u[1];var f=K.myproduct.getRequisitionsProduct({productId:c.productId,myFollowers:o}).approvedFollowings,y=K.myproduct.getFollowingsNamedMyKeys(s,f).filter(function(e){return"all"===d||d===e.follower}),v=function(e,t){return e.map(function(e){return Object(p.a)({},e,t.reduce(function(e,t){return e[t[0]]=t[1],e},{}))})},g=n.filter(function(e){return!!y.find(function(t){return e.followingId===t._id})}).reduce(function(e,t,a,n){var r,o,c=t.leaderOrders,l=t.followerOrders,i=t.followingLogs,d=c.length&&c[0].keyId,u=d&&(s.find(function(e){return e.keyId===d})||{name:"error name"}).name,p=l.length&&l[0].keyId,f=p&&(y.find(function(e){return e.follower===p})||{nameFollower:"error name"}).nameFollower;return c.forEach(function(t){var a;e.allOrders.find(function(e){return e.orderId===t.orderId})||(a=e.allOrders).push.apply(a,Object(m.a)(v([t],[["name",u],["position","leader"]])))}),(r=e.allOrders).push.apply(r,Object(m.a)(v(l,[["name",f],["position","follower"]]))),(o=e.allFollowingsLog).push.apply(o,Object(m.a)(i)),e},{allOrders:[],allFollowingsLog:[]});return g.allOrders=g.allOrders.filter(function(e){return!!new Date(e.createdAt).getTime()}).sort(function(e,t){return"new"===i?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}),g.allOrders.length?e.renderTrades({arrAllOrders:g}):r.a.createElement("div",{className:"logTrades"},"While empty.")},e.renderTrades=function(t){var a=t.arrAllOrders,n=e.props.filter.nosync,o=e.state.quantityLeaderOrdersShow,s={},c={},l=function(e,t){if(a.allFollowingsLog.find(function(t){return t.followerOrderId===e.orderId})||"hide-all"===n)return!1;if(!t)return"not-shown";var o,c=T.a.utc(e.createdAt).toISOString().slice(0,10);Object.assign(s,Object(u.a)({},c,s[c]||[])),s[c].push((o=e,r.a.createElement("div",{className:"item noFollowTrade",key:"".concat(o.orderId,"-").concat(o.symbol)},r.a.createElement("div",{className:"boxOfTrade clickMore"},r.a.createElement("div",{className:"curClick"})),r.a.createElement("div",{className:"boxOfTrade relativitySuccess"},r.a.createElement("span",{className:"curValue"},o.name)),r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"2%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},o.symbol),r.a.createElement("div",{className:"boxOfTrade type"},o.type),r.a.createElement("div",{className:"boxOfTrade side ".concat(o.side)},o.side),r.a.createElement("div",{className:"boxOfTrade price"},o.price),r.a.createElement("div",{className:"boxOfTrade quantity"},o.quantity),r.a.createElement("div",{className:"boxOfTrade status ".concat(o.status)},g.myproduct.statusesShowing[o.status]||o.status),r.a.createElement("div",{className:"boxOfTrade time"},T.a.utc(o.createdAt).toISOString().slice(11,19)))))},i=0,d=0;if(a.allOrders.forEach(function(e,t){var m=t<o+i;"leader"===e.position&&(!1===function(e,t){if("show-only"===n)return!1;if(!t)return"not-shown";var o=a.allFollowingsLog.filter(function(t){return"copied"===t.status&&t.leaderOrderId===e.orderId&&t.symbol===e.symbol}),l=a.allOrders.filter(function(e){return!!o.find(function(t){return t.followerOrderId===e.orderId&&t.symbol===e.symbol})}),i=T.a.utc(e.createdAt).toISOString().slice(0,10),d=l.length>0,m=d&&l.reduce(function(t,a,n){return t[0]+=function(e,t){var a={TRADE:"FILLED"};return(a[e]||e)===(a[t]||t)}(a.status,e.status)?1:0,t[1]+=1,t},[1,1]);Object.assign(s,Object(u.a)({},i,s[i]||[])),l.forEach(function(e){c[e.orderId]=!0}),s[i].push(r.a.createElement(Ut,{curLeaderOrder:e,hasLogTrades:d,relativitySuccess:m,tsFollowersTrades:l}))}(e,m)?i++:d++);"follower"===e.position&&(!1===l(e,m)?i++:d++)}),!d)return r.a.createElement("div",{className:"logTrades"},"While empty.");var m=Object.entries(s).map(function(e){var t=Object(bt.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"boxOfDay"},r.a.createElement("div",{className:"titleDay"},a),n)});return[r.a.createElement("div",{className:"tradeItemsParent"},r.a.createElement("div",{className:"item headTable"},r.a.createElement("div",{className:"boxOfTrade emptySpace",style:{width:"30%"}}),r.a.createElement("div",{className:"boxOfTrade pair"},"Pair"),r.a.createElement("div",{className:"boxOfTrade type"},"Type"),r.a.createElement("div",{className:"boxOfTrade side"},"Side"),r.a.createElement("div",{className:"boxOfTrade price"},"Price"),r.a.createElement("div",{className:"boxOfTrade quantity"},"Quantity"),r.a.createElement("div",{className:"boxOfTrade status"},"Status"),r.a.createElement("div",{className:"boxOfTrade time"},"Time")),m),r.a.createElement(function(){return d>e.state.quantityLeaderOrdersShow&&r.a.createElement("div",{className:"moreTrades",onClick:e.showMoreTrade},"More trades")},null)]},e.showMoreTrade=function(){var t=e.state.quantityLeaderOrdersShow;e.setState({quantityLeaderOrdersShow:t+6})},e.state={quantityLeaderOrdersShow:5,allShowingTrades:0},e.timers={},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){this.startRequests()}},{key:"componentWillUnmount",value:function(){this.stopRequests()}},{key:"render",value:function(){return r.a.createElement("div",{className:"logTrades"},this.renderGroupOrdersList())}}]),t}(r.a.Component)),Dt=(a(127),pe.MyProductContext.Consumer),Bt=K.common.logger("myproduct"),Kt=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).startRenderGroupTrades=function(t,a,n){var o=e.props.reduxState,s=o.myFollowers,c=o.keys,l=o.infoMarketProduct,i=F.common.dataNoLoaded([c,s,l]);return i[1]?i[1]:r.a.createElement(Lt,Object.assign({},t,{actions:a,filter:n}))},e.getFollowers=function(){var t=e.props,a=t.reduxState,n=a.ordersFollowings,r=a.myFollowers,o=a.keys,s=t.paramsProduct;if(F.common.dataNoLoaded([o,r,n])[1])return[];var c=K.myproduct.getRequisitionsProduct({productId:s.productId,myFollowers:r}).approvedFollowings;return K.myproduct.getFollowingsNamedMyKeys(o,c)},e.state={date:"new",follower:"all",nosync:"show-all"},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.date,n=t.follower,o=t.nosync;return r.a.createElement("div",{className:"typeList followingTrades"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Following trades"),r.a.createElement("div",{className:"rightPanel"},r.a.createElement("div",{className:"curTitle"},"Filter by"),r.a.createElement("div",{className:"filterMenu"},r.a.createElement("select",{onChange:function(t){return e.setState({date:t.target.value})}},r.a.createElement("option",{value:"new",selected:"new"===a},"First new deal"),r.a.createElement("option",{value:"old",selected:"old"===a},"First old deal")),r.a.createElement("select",{onChange:function(t){return e.setState({follower:t.target.value})}},r.a.createElement("option",{value:"all",selected:"all"===n},"Show all followers"),this.getFollowers().map(function(e,t){return r.a.createElement("option",{value:e.follower,key:t},e.nameFollower)})),r.a.createElement("select",{onChange:function(t){return e.setState({nosync:t.target.value})}},r.a.createElement("option",{value:"show-all",selected:"show-all"===o},"Show unsynchronized transactions"),r.a.createElement("option",{value:"hide-all",selected:"hide-all"===o},"Hide unsynchronized transactions"),r.a.createElement("option",{value:"show-only",selected:"show-only"===o},"Show only unsynchronized transactions"))))),r.a.createElement("div",{className:"content"},this.startRenderGroupTrades(this.props,this.props.actions,{date:a,follower:n,nosync:o})))}}]),t}(r.a.Component),qt=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(o)))).renderListRequisitions=function(e){var t=e.actions,n=a.props,o=n.reduxState,s=o.myFollowers,c=o.keys,l=o.balancesFollowings,i=n.paramsProduct,d=F.common.dataNoLoaded([c,s]);if(d[1])return d[1];var u=K.myproduct.getRequisitionsProduct({productId:i.productId,myFollowers:s}),m=u.waitFollowings,p=u.rejectFollowings,f=[],y=K.myproduct.getFollowingsNamedMyKeys(c,m),v=K.myproduct.getFollowingsNamedMyKeys(c,p);return f[0]=y.map(function(e,a){return r.a.createElement(Ot,{status:"wait",key:e._id,reduxState:e,balances:l,methods:{sendApproveFollowing:t.sendApproveFollowing,sendRejectFollowing:t.sendRejectFollowing,getBalanceByFollowing:t.getBalanceByFollowing}})}),f[1]=v.map(function(e,t){return r.a.createElement(Ot,{status:"reject",key:e._id,reduxState:e})}),m.length||p.length?f:r.a.createElement("div",null,"You have not yet sent any applications for managing funds.")},a.renderListInvestors=function(e){var t=e.actions,n=a.props,o=n.reduxState,s=o.myFollowers,c=o.keys,l=o.balancesFollowings,i=n.paramsProduct,d=F.common.dataNoLoaded([c,s]);if(d[1])return d[1];var u=K.myproduct.getRequisitionsProduct({productId:i.productId,myFollowers:s}).approvedFollowings,m=K.myproduct.getFollowingsNamedMyKeys(c,u),p=[];return p[0]=m.map(function(e,a){return r.a.createElement(St,{key:e._id,reduxState:e,balances:l,methods:{setFreeze:t.setFreezeFollowing,setUnFreeze:t.setUnFreezeFollowing,getBalanceByFollowing:t.getBalanceByFollowing,getOrdersByFollowing:t.getOrdersByFollowing,setFollowingMode:t.setFollowingMode,getFollowings:t.getFollowings,getFollowers:t.getFollowers,sendRejectFollowing:t.sendRejectFollowing}})}),u.length?p:r.a.createElement("div",null,"You have no active investors on this product yet.")},a.renderThisProduct=function(){var e=a.props.reduxState,t=F.common.dataNoLoaded([e.infoMarketProduct]);return t[1]?t[1]:r.a.createElement(Ct,{reduxState:e})},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reduxState;return Bt({body:{reduxState:this.props.reduxState}}),r.a.createElement(Dt,null,function(a){var n=a.actions;return r.a.createElement(Ie,Object.assign({},e.props,{actions:n},{atopClass:"myproduct"}),r.a.createElement(Se,{atopClass:"requisitions"},r.a.createElement(Kt,Object.assign({},e.props,{actions:n})),r.a.createElement("div",{className:"typeList investorList"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Your investors"),r.a.createElement("div",{className:"rightPanel"})),r.a.createElement("div",{className:"content"},e.renderListInvestors({actions:n}))),r.a.createElement("div",{className:"typeList requisitionsList"},r.a.createElement("div",{className:"curHead"},r.a.createElement("div",{className:"curTitle"},"Your Requisitions"),r.a.createElement("div",{className:"rightPanel"})),r.a.createElement("div",{className:"content"},e.renderListRequisitions({actions:n})))),r.a.createElement(Se,{atopClass:"myproductinfo"},r.a.createElement(Pt,{reduxState:t,methods:n}),e.renderThisProduct()))})}}]),t}(r.a.Component),Mt=pe.MyProductContext.Provider,Vt=function(e){function t(){var e;return Object(le.a)(this,t),e=Object(de.a)(this,Object(ue.a)(t).call(this,{namePage:"myproduct",componentWillMount_cb:function(){var t=e.props.match.params.productId;e.actions.getThisProduct({productId:t})}}))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.match.params.productId;return r.a.createElement(Mt,{value:{actions:this.actions}},r.a.createElement(qt,Object.assign({},this.props,{paramsProduct:{productId:e}})))}}]),t}(fe),_t=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.myproduct),state:e}})(Vt),Gt=(a(128),pe.MarketplaceContext.Consumer),Qt=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(o)))).listBlocksForm={marketProduct:function(e,t){return r.a.createElement(ze,{key:t,data:e,place:"marketplace"})}},a}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reduxState,a=K.marketplace.getFilteredProducts(t.marketProducts);return r.a.createElement(Gt,null,function(t){var n=t.actions;return r.a.createElement(Ie,Object.assign({},e.props,{actions:n},{atopClass:"marketplace"}),r.a.createElement(rt,{atopClass:"markets",uniqProperty:"productId",reduxState:a,blockRender:e.listBlocksForm.marketProduct,renderFn:"renderListProducts",typelist:"marketproduct",methods:{reload:n.getProducts,add:n.addProduct,remove:n.removeKeys,edit:n.editKeys},texts:{title:!1,addButtonText:!1}}))})}}]),t}(r.a.Component),Yt=pe.MarketplaceContext.Provider,Wt=K.common.logger("marketproduct"),zt=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).call(this,{namePage:"marketplace",componentWillMount_cb:function(){}}))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return Wt({body:{props:this.props}}),r.a.createElement(Yt,{value:{actions:this.actions}},r.a.createElement(Qt,this.props))}}]),t}(fe),Ht=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.marketplace),state:e}})(zt),Jt=(a(129),pe.MarketProductContext.Consumer),Zt=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"renderFullProduct",value:function(e){var t=e.actions,a=this.props.reduxState,n=F.common.dataNoLoaded([a.infoMarketProduct]);return n[1]?n[1]:r.a.createElement("div",{className:"marketProduct"},r.a.createElement("div",{className:"content"},r.a.createElement(Ct,{reduxState:a}),r.a.createElement(Pt,{reduxState:a,methods:t})))}},{key:"render",value:function(){var e=this;this.props.reduxState;return r.a.createElement(Jt,null,function(t){var a=t.actions;return r.a.createElement(Ie,Object.assign({},e.props,{actions:a}),e.renderFullProduct({actions:a}))})}}]),t}(r.a.Component),Xt=pe.MarketProductContext.Provider,$t=K.common.logger("marketproduct"),ea=function(e){function t(){var e;return Object(le.a)(this,t),e=Object(de.a)(this,Object(ue.a)(t).call(this,{namePage:"marketproduct",componentWillMount_cb:function(){var t=e.props.match.params.productId;e.actions.getMarketProduct({productId:t})}}))}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.match.params.productId;return $t({body:{reduxState:this.props.reduxState}}),r.a.createElement(Xt,{value:{actions:this.actions}},r.a.createElement(Zt,Object.assign({},this.props,{paramsProduct:{productId:e}})))}}]),t}(fe),ta=Object(s.connect)(function(e){return{reduxState:Object(p.a)({},e.common,e.marketproduct),state:e}})(ea),aa=function(e){function t(){var e;return Object(le.a)(this,t),(e=Object(de.a)(this,Object(ue.a)(t).call(this))).state={redirecting:!1},e}return Object(me.a)(t,e),Object(ie.a)(t,[{key:"componentWillMount",value:function(){this.setState({redirecting:!0})}},{key:"render",value:function(){return this.state.redirecting&&r.a.createElement(ce.Redirect,{to:this.props.to})}}]),t}(r.a.Component),na=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(ce.Route,{path:"/",exact:!0,component:function(){return r.a.createElement(aa,{to:"/im"})}}),r.a.createElement(ce.Route,{path:"/im",exact:!0,component:dt}),r.a.createElement(ce.Route,{path:"/auth",component:Et}),r.a.createElement(ce.Route,{path:"/myproduct/:productId?",exact:!0,component:_t}),r.a.createElement(ce.Route,{path:"/marketplace",exact:!0,component:Ht}),r.a.createElement(ce.Route,{path:"/marketproduct/:productId?",exact:!0,component:ta}))},ra=(a(130),a(131),document.querySelector("#root"));Object(o.render)(r.a.createElement(s.Provider,{store:se},r.a.createElement(c.ConnectedRouter,{history:ne},r.a.createElement(na,null))),ra)},35:function(e,t,a){e.exports=a.p+"static/media/iconBinance.39a2af26.png"},50:function(e,t){},51:function(e,t){},52:function(e,t){},53:function(e,t){},55:function(e,t,a){e.exports=a.p+"static/media/Profile_icon.32dd20d8.svg"},56:function(e,t,a){e.exports=a.p+"static/media/Billing_icon.0397b8fd.svg"},57:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAEBgAABAYBmSDe8AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACiSURBVGiB7dZBCsJAFIPhjMfT+y8VUXuOuBBFsDIdCp10+L99HmT1IgFoYvtk++K6s+1jQvZfkduCY2/XhKwklZkirrb9PlDK50avrCQdWsLJKJKGImkokmauyNSQv4dkf/k1FaYF3/Xh+ZmxeRbYkpnxzPjVWWnwh7hLFElDkTRDF2HG98oCWzIznhm/OisN/hB3iSJpKJJm6CLM+F5ZAHVPG1gfwfjYunAAAAAASUVORK5CYII="},58:function(e,t,a){e.exports=a.p+"static/media/headerLogoCindx.9946b087.png"},62:function(e,t,a){e.exports=a(132)}},[[62,1,2]]]);
//# sourceMappingURL=main.091200b9.chunk.js.map